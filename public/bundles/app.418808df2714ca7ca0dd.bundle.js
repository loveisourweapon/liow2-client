webpackJsonp([0],[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(3),s=r(i),u=n(15),l=r(u),c=n(30),f=r(c),d=n(31),p=r(d),m=n(34),v=r(m),g=n(36),h=r(g),b=n(38),y=r(b),$=n(40),_=r($);n(41);var w=n(42),j=r(w),x=n(44),k=r(x),O=n(49),P=r(O),C=n(51),M=r(C),A=n(435),U=r(A),S=a.default.module("app",[(0,l.default)(a.default),f.default.name,p.default,v.default,h.default,y.default,_.default,"uiSwitch",j.default,k.default,P.default,M.default,U.default]).component("app",s.default).value("EventEmitter",function(e){return{$event:e}}).config(["$compileProvider","$httpProvider","$urlRouterProvider","$locationProvider","$animateProvider","uiSelectConfig",function(e,t,n,r,o,a){"ngInject";n.otherwise("/"),e.debugInfoEnabled(!1),t.useApplyAsync(!0),r.html5Mode(!0),o.classNameFilter(/^((?!(fa)).)*$/),a.theme="bootstrap",a.appendToBody=!0}]);t.default=S},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),i=n(5),s=r(i);n(6);var u={controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e)}return r(e,[{key:"$onInit",value:function(){this.date=Date.now()}}]),e}();t.default=o},function(e,t){e.exports="<navbar></navbar> <ui-view></ui-view> <footer class=footer> <div class=container> <div class=pull-left> <small> &copy; {{ ::$ctrl.date | date:'yyyy' }} The Love is our Weapon Campaign </small> </div> <div class=pull-right> <small> <ul class=list-inline> <li> Need help? <a href=\"mailto:hello@loveisourweapon.com?subject=Hello!\">Say hello!</a> </li> </ul> </small> </div> </div> </footer> "},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(52),s=r(i),u=n(105),l=r(u),c=n(143),f=r(c),d=n(291),p=r(d),m=n(297),v=r(m),g=n(313),h=r(g),b=n(321),y=r(b),$=n(326),_=r($),w=n(336),j=r(w),x=n(368),k=r(x),O=n(372),P=r(O),C=n(377),M=r(C),A=n(420),U=r(A),S=n(427),I=r(S),D=n(431),E=r(D),G=a.default.module("app.common",[s.default,l.default,f.default,_.default,p.default,v.default,h.default,y.default,j.default,k.default,P.default,M.default,U.default,I.default,E.default]).name;t.default=G},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(53),s=r(i),u={serverUrl:"http://localhost:3000",facebookClientId:"FACEBOOK_CLIENT_ID"},l=a.default.module("config",[]).constant("config",(0,s.default)(LIOW_CONFIG||{},u)).name;t.default=l},function(e,t,n){var r=n(54),o=n(55),a=n(57),i=n(77),s=i(function(e){return e.push(void 0,o),r(a,void 0,e)});e.exports=s},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){function r(e,t,n,r){return void 0===e||o(e,a[n])&&!i.call(r,n)?t:e}var o=n(56),a=Object.prototype,i=a.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){var r=n(58),o=n(76),a=n(88),i=o(function(e,t,n,o){r(t,a(t),e,o)});e.exports=i},function(e,t,n){function r(e,t,n,r){var i=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=r?r(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),i?a(n,l,c):o(n,l,c)}return n}var o=n(59),a=n(60);e.exports=r},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||o(e,t,n)}var o=n(60),a=n(56),i=Object.prototype,s=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var o=n(61);e.exports=r},function(e,t,n){var r=n(62),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){function r(e,t){var n=a(e,t);return o(n)?n:void 0}var o=n(63),a=n(75);e.exports=r},function(e,t,n){function r(e){if(!i(e)||a(e))return!1;var t=o(e)?m:l;return t.test(s(e))}var o=n(64),a=n(72),i=n(71),s=n(74),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,d=c.toString,p=f.hasOwnProperty,m=RegExp("^"+d.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){if(!a(e))return!1;var t=o(e);return t==s||t==u||t==i||t==l}var o=n(65),a=n(71),i="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?u:s:(e=Object(e),l&&l in e?a(e):i(e))}var o=n(66),a=n(69),i=n(70),s="[object Null]",u="[object Undefined]",l=o?o.toStringTag:void 0;e.exports=r},function(e,t,n){var r=n(67),o=r.Symbol;e.exports=o},function(e,t,n){var r=n(68),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[u]=n:delete e[u]),o}var o=n(66),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,u=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(e){return!!a&&a in e}var o=n(73),a=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(67),o=r["__core-js_shared__"];e.exports=o},function(e,t){function n(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;e.exports=n},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e){return o(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&a(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t})}var o=n(77),a=n(84);e.exports=r},function(e,t,n){function r(e,t){return i(a(e,t,o),e+"")}var o=n(78),a=n(79),i=n(80);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=a(r.length-t,0),u=Array(s);++i<s;)u[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(u),o(e,this,l)}}var o=n(54),a=Math.max;e.exports=r},function(e,t,n){var r=n(81),o=n(83),a=o(r);e.exports=a},function(e,t,n){var r=n(82),o=n(61),a=n(78),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t){function n(e){var t=0,n=0;return function(){var i=a(),s=o-(i-n);if(n=i,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,o=16,a=Date.now;e.exports=n},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?a(n)&&i(t,n.length):"string"==r&&t in n)&&o(n[t],e)}var o=n(56),a=n(85),i=n(87),s=n(71);e.exports=r},function(e,t,n){function r(e){return null!=e&&a(e.length)&&!o(e)}var o=n(64),a=n(86);e.exports=r},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t){function n(e,t){return t=null==t?r:t,!!t&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e){return i(e)?o(e,!0):a(e)}var o=n(89),a=n(102),i=n(85);e.exports=r},function(e,t,n){function r(e,t){var n=i(e),r=!n&&a(e),c=!n&&!r&&s(e),d=!n&&!r&&!c&&l(e),p=n||r||c||d,m=p?o(e.length,String):[],v=m.length;for(var g in e)!t&&!f.call(e,g)||p&&("length"==g||c&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||m.push(g);return m}var o=n(90),a=n(91),i=n(94),s=n(95),u=n(87),l=n(98),c=Object.prototype,f=c.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){var r=n(92),o=n(93),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){function r(e){return a(e)&&o(e)==i}var o=n(65),a=n(93),i="[object Arguments]";e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var r=n(67),o=n(97),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a,u=s?r.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||o;e.exports=c}).call(t,n(96)(e))},,function(e,t){function n(){return!1}e.exports=n},function(e,t,n){var r=n(99),o=n(100),a=n(101),i=a&&a.isTypedArray,s=i?o(i):r;e.exports=s},function(e,t,n){function r(e){return i(e)&&a(e.length)&&!!U[o(e)]}var o=n(65),a=n(86),i=n(93),s="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",g="[object RegExp]",h="[object Set]",b="[object String]",y="[object WeakMap]",$="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",U={};U[w]=U[j]=U[x]=U[k]=U[O]=U[P]=U[C]=U[M]=U[A]=!0,U[s]=U[u]=U[$]=U[l]=U[_]=U[c]=U[f]=U[d]=U[p]=U[m]=U[v]=U[g]=U[h]=U[b]=U[y]=!1,e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var r=n(68),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o,s=i&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(96)(e))},function(e,t,n){function r(e){if(!o(e))return i(e);var t=a(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n}var o=n(71),a=n(103),i=n(104),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}var r=Object.prototype;e.exports=n},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(106),s=r(i),u=a.default.module("act",[]).service("Act",s.default).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e.data}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(107),l=r(u),c=n(53),f=r(c),d=function(){function e(t,n){o(this,e),i(this,{$http:t}),this.baseUrl=n.serverUrl+"/acts",this.counters={}}return e.$inject=["$http","config"],s(e,[{key:"count",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=(0,f.default)(t,{count:!0}),this.$http.get(this.baseUrl,{params:t}).then(a).then(function(e){return Number(e)}).then(function(n){return e.counters[t.user||t.group||t.campaign||t.deed||"global"]=n,n})}},{key:"done",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.$http.post(this.baseUrl,{deed:e._id,group:(0,l.default)(t,"_id")?t._id:null}).then(a)}}]),e}();t.default=d},function(e,t,n){function r(e,t){return null!=e&&a(e,t,o)}var o=n(108),a=n(109);e.exports=r},function(e,t){function n(e,t){return null!=e&&o.call(e,t)}var r=Object.prototype,o=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n){t=o(t,e);for(var r=-1,c=t.length,f=!1;++r<c;){var d=l(t[r]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++r!=c?f:(c=null==e?0:e.length,!!c&&u(c)&&s(d,c)&&(i(e)||a(e)))}var o=n(110),a=n(91),i=n(94),s=n(87),u=n(86),l=n(142);e.exports=r},function(e,t,n){function r(e,t){return o(e)?e:a(e,t)?[e]:i(s(e))}var o=n(94),a=n(111),i=n(113),s=n(139);e.exports=r},function(e,t,n){function r(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||s.test(e)||!i.test(e)||null!=t&&e in Object(t)}var o=n(94),a=n(112),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){function r(e){return"symbol"==typeof e||a(e)&&o(e)==i}var o=n(65),a=n(93),i="[object Symbol]";e.exports=r},function(e,t,n){var r=n(114),o=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r(function(e){var t=[];return o.test(e)&&t.push(""),e.replace(a,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=s},function(e,t,n){function r(e){var t=o(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}var o=n(115),a=500;e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(r.Cache||o),n}var o=n(116),a="Expected a function";r.Cache=o,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(117),a=n(133),i=n(136),s=n(137),u=n(138);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new o,map:new(i||a),string:new o}}var o=n(118),a=n(125),i=n(132);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(119),a=n(121),i=n(122),s=n(123),u=n(124);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(120);e.exports=r},function(e,t,n){var r=n(62),o=r(Object,"create");e.exports=o},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(o){var n=t[e];return n===a?void 0:n}return s.call(t,e)?t[e]:void 0}var o=n(120),a="__lodash_hash_undefined__",i=Object.prototype,s=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return o?void 0!==t[e]:i.call(t,e)}var o=n(120),a=Object.prototype,i=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?a:t,this}var o=n(120),a="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(126),a=n(127),i=n(129),s=n(130),u=n(131);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():i.call(t,n,1),--this.size,!0}var o=n(128),a=Array.prototype,i=a.splice;e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(56);e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(128);e.exports=r},function(e,t,n){function r(e){return o(this.__data__,e)>-1}var o=n(128);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var o=n(128);e.exports=r},function(e,t,n){var r=n(62),o=n(67),a=r(o,"Map");e.exports=a},function(e,t,n){function r(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=n(134);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}var o=n(135);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return o(this,e).get(e)}var o=n(134);e.exports=r},function(e,t,n){function r(e){return o(this,e).has(e)}var o=n(134);e.exports=r},function(e,t,n){function r(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var o=n(134);e.exports=r},function(e,t,n){function r(e){return null==e?"":o(e)}var o=n(140);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e)return e;if(i(e))return a(e,r)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var o=n(66),a=n(141),i=n(94),s=n(112),u=1/0,l=o?o.prototype:void 0,c=l?l.toString:void 0;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){function r(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}var o=n(112),a=1/0;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(144),s=r(i),u=n(286),l=r(u),c=n(288),f=r(c),d=n(38),p=r(d),m=a.default.module("modal",[]).service("Modal",s.default).component("modalHeader",l.default).name;t.default=m,a.default.module(p.default).directive("uibModalWindow",["$window",function(e){return new f.default(e)}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(53),u=r(s),l=n(145),c=n(149),f=n(153),d=n(157),p=n(162),m=n(175),v=n(274),g=n(278),h=n(282),b=function(){function e(t,n){o(this,e),a(this,{$uibModal:t,User:n}),this.modalDefaults={controllerAs:"$ctrl",size:"md"}}return e.$inject=["$uibModal","User"],i(e,[{key:"openLogin",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$uibModal.open((0,u.default)({controller:l.LoginComponent.controller,template:l.LoginComponent.template,size:"sm",resolve:{canSwitch:function(){return e}}},this.modalDefaults)).result}},{key:"openSignup",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$uibModal.open((0,u.default)({controller:c.SignupComponent.controller,template:c.SignupComponent.template,resolve:{canSwitch:function(){return e}}},this.modalDefaults)).result}},{key:"openForgotPassword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.$uibModal.open((0,u.default)({controller:f.ForgotPasswordComponent.controller,template:f.ForgotPasswordComponent.template,size:"sm",resolve:{email:function(){return e}}},this.modalDefaults)).result}},{key:"openChangePassword",value:function(e){return this.$uibModal.open((0,u.default)({controller:d.ChangePasswordComponent.controller,template:d.ChangePasswordComponent.template,size:"sm",resolve:{user:function(){return e}}},this.modalDefaults)).result}},{key:"openGroupEdit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.$uibModal.open((0,u.default)({controller:p.GroupEditComponent.controller,template:p.GroupEditComponent.template,resolve:{action:function(){return t},group:function(){return angular.copy(n)},users:function(){return n?e.User.find({groups:n._id}):null}}},this.modalDefaults)).result}},{key:"openCampaignEdit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.$uibModal.open((0,u.default)({controller:m.CampaignEditComponent.controller,template:m.CampaignEditComponent.template,resolve:{action:function(){return e},group:function(){return angular.copy(t)},campaign:function(){return angular.copy(n)}}},this.modalDefaults)).result}},{key:"openDeedPreview",value:function(e){return this.$uibModal.open((0,u.default)({controller:v.DeedPreviewComponent.controller,template:v.DeedPreviewComponent.template,resolve:{deedId:function(){return e}}},this.modalDefaults)).result}},{key:"openAlert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sm";return this.$uibModal.open((0,u.default)({controller:g.AlertComponent.controller,template:g.AlertComponent.template,size:n,resolve:{message:function(){return e},title:function(){return t}}},this.modalDefaults)).result}},{key:"openConfirm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.$uibModal.open((0,u.default)({controller:h.ConfirmComponent.controller,template:h.ConfirmComponent.template,size:"sm",resolve:{message:function(){return e},title:function(){return t}}},this.modalDefaults)).result}}]),e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(146);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LoginComponent=void 0;var o=n(147),a=r(o),i=n(148),s=r(i);t.LoginComponent={controller:a.default,template:s.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(107),u=r(s),l=function(){function e(t,n,r,i,s,l,c){o(this,e),a(this,{$uibModalInstance:t,Alertify:r,User:i,Group:s,Modal:l,canSwitch:c}),this.error=null,this.joinGroup=null,(0,u.default)(n,"group")&&(this.joinGroup=!0)}return e.$inject=["$uibModalInstance","$stateParams","Alertify","User","Group","Modal","canSwitch"],i(e,[{key:"authenticateFacebook",value:function(e){var t=this,n={};e&&(n.group=this.Group.current._id),this.loggingIn=!0,this.User.authenticateFacebook(n).then(function(){e&&(t.User.group=t.Group.current),t.$uibModalInstance.close(),t.Alertify.success("Signed in")}).catch(function(){return t.Alertify.error("Failed signing in")}).then(function(){return t.loggingIn=!1})}},{key:"authenticateEmail",value:function(e,t,n){var r=this;this.loggingIn=!0,this.User.authenticateEmail(e,t,n?this.Group.current:null).then(function(e){n&&(r.User.group=r.Group.current),r.$uibModalInstance.close(),r.Alertify.success("Signed in"+(e.confirmed?"":". Please confirm your email address"))}).catch(function(e){return r.error=e.data.message}).then(function(){return r.loggingIn=!1})}},{key:"sendConfirmEmail",value:function(e){var t=this;this.sending=!0,this.User.sendConfirmEmail(e).then(function(){return t.Alertify.success("Sent confirmation email to <strong>"+e+"</strong>")}).catch(function(){return t.Alertify.error("Failed sending confirmation email")}).then(function(){return t.sending=!1})}}]),e}();t.default=l},function(e,t){e.exports='<modal-header modal-title=Login on-close-click=$ctrl.$uibModalInstance.dismiss()></modal-header> <div class=modal-body> <div ng-if="$ctrl.joinGroup !== null"> <p> <switch id=joinGroup name=joinGroup ng-model=$ctrl.joinGroup class=m-r-xs></switch> Join {{ ::$ctrl.Group.current.name }} </p> <hr> </div> <p> <button ng-click=$ctrl.authenticateFacebook($ctrl.joinGroup) class="btn btn-facebook btn-block" ng-disabled=$ctrl.loggingIn> <i class="fa fa-fw fa-cog fa-spin" ng-show=$ctrl.loggingIn></i> <i class="fa fa-fw fa-facebook-official" ng-hide=$ctrl.loggingIn></i> Sign in with Facebook </button> </p> <hr> <form ng-submit="$ctrl.authenticateEmail($ctrl.email, $ctrl.password, $ctrl.joinGroup)"> <div uib-alert class="alert-danger p-sm" ng-if=$ctrl.error> <i class="fa fa-fw fa-exclamation-triangle"></i> {{ $ctrl.error }} <span ng-if="$ctrl.error.indexOf(\'Please confirm\') === 0"> <i class="fa fa-fw"></i> <a ng-click=$ctrl.sendConfirmEmail($ctrl.email) href> Re-send confirmation email? <i ng-show=$ctrl.sending class="fa fa-cog fa-spin"></i> </a> </span> </div> <div class=form-group> <div class=input-group> <div class=input-group-addon> <i class="fa fa-fw fa-at"></i> </div> <input type=text class=form-control id=email name=email ng-model=$ctrl.email placeholder=Email autofocus> </div> </div> <div class=form-group> <div class=input-group> <div class=input-group-addon> <i class="fa fa-fw fa-key"></i> </div> <input type=password class=form-control id=password name=password ng-model=$ctrl.password placeholder=Password> </div> <span class=help-block> <a ng-click="$ctrl.$uibModalInstance.dismiss() && $ctrl.Modal.openForgotPassword($ctrl.email)" href> Forgot your password? </a> </span> </div> <button type=submit hidden></button> </form> <div ng-if=::$ctrl.canSwitch> <p> Don\'t have an account yet? <a ng-click="$ctrl.$uibModalInstance.dismiss() && $ctrl.Modal.openSignup()" href>Sign up now</a> </p> </div> </div> <div class=modal-footer> <button type=submit class="btn btn-primary btn-block" ng-click="$ctrl.authenticateEmail($ctrl.email, $ctrl.password, $ctrl.joinGroup)" ng-disabled="!$ctrl.email || !$ctrl.password || $ctrl.loggingIn"> <i class="fa fa-fw fa-cog fa-spin" ng-show=$ctrl.loggingIn></i> Login </button> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(150);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignupComponent=void 0;var o=n(151),a=r(o),i=n(152),s=r(i);t.SignupComponent={controller:a.default,template:s.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(107),u=r(s),l=function(){function e(t,n,r,i,s,l,c){o(this,e),a(this,{$uibModalInstance:t,Alertify:r,User:i,Group:s,Modal:l,canSwitch:c}),this.error=null,this.joinGroup=null,(0,u.default)(n,"group")&&(this.joinGroup=!0),this.resetFields()}return e.$inject=["$uibModalInstance","$stateParams","Alertify","User","Group","Modal","canSwitch"],i(e,[{key:"resetFields",value:function(){this.user={email:"",password:"",firstName:"",lastName:"",picture:void 0}}},{key:"authenticateFacebook",value:function(e){var t=this,n={};e&&(n.group=this.Group.current._id),this.saving=!0,this.User.authenticateFacebook(n).then(function(){e&&(t.User.group=t.Group.current),t.$uibModalInstance.close(),t.Alertify.success("Signed in")}).catch(function(){return t.Alertify.error("Failed signing in")}).then(function(){return t.saving=!1})}},{key:"save",value:function(e,t){var n=this;t&&(e.groups=[this.Group.current._id]),this.saving=!0,this.error=null,this.User.save(e).then(function(){return t&&(n.User.group=n.Group.current),n.Alertify.success("Signed up. Please confirm your email address"),n.User.authenticateEmail(e.email,e.password)}).then(function(){return n.$uibModalInstance.close()}).catch(function(e){return n.error=e.data.error}).then(function(){return n.saving=!1})}}]),e}();t.default=l},function(e,t){e.exports='<modal-header modal-title="Sign up" on-close-click=$ctrl.$uibModalInstance.dismiss()></modal-header> <div class=modal-body> <div ng-if="$ctrl.joinGroup !== null"> <p> <switch id=joinGroup name=joinGroup ng-model=$ctrl.joinGroup class=m-r-xs></switch> Join {{ ::$ctrl.Group.current.name }} </p> <hr> </div> <p> <button ng-click=$ctrl.authenticateFacebook($ctrl.joinGroup) class="btn btn-facebook btn-block" ng-disabled=$ctrl.saving> <i class="fa fa-fw fa-cog fa-spin" ng-show=$ctrl.saving></i> <i class="fa fa-fw fa-facebook-official" ng-hide=$ctrl.saving></i> Sign up with Facebook </button> </p> <hr> <form name=userEdit class=form-horizontal ng-submit="$ctrl.form.$valid && $ctrl.save($ctrl.user, $ctrl.joinGroup)" novalidate> <span ng-init="$ctrl.form = userEdit"></span> <div uib-alert class=alert-danger ng-if="$ctrl.error && !$ctrl.error.errors"> <i class="fa fa-fw fa-exclamation-triangle"></i> Failed sending request. Please try again or <a href=mailto:support@loveisourweapon.com>contact us</a> about it. </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.error.errors.email || ($ctrl.form.$submitted && $ctrl.form.email.$invalid) }"> <label for=email class="col-xs-3 control-label"> Email </label> <div class="col-xs-9 col-sm-8"> <input type=email class=form-control id=email name=email placeholder="Email address..." ng-model=$ctrl.user.email required autofocus> <span class=help-block ng-messages="!$ctrl.error.errors.email && $ctrl.form.$submitted && $ctrl.form.email.$error"> <span ng-message-exp="[\'required\', \'email\']">Please enter a valid email address</span> </span> <span class=help-block ng-messages=$ctrl.error.errors> <span ng-message=email> {{ $ctrl.error.errors.email[0].message }} </span> </span> </div> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.form.$submitted && $ctrl.form.firstName.$invalid }"> <label for=firstName class="col-xs-3 control-label"> Name </label> <div class="col-xs-9 col-sm-8"> <div class=row> <div class=col-xs-6> <input type=text class=form-control id=firstName name=firstName placeholder=First... ng-model=$ctrl.user.firstName required> </div> <div class=col-xs-6> <input type=text class=form-control id=lastName name=lastName placeholder=Last... ng-model=$ctrl.user.lastName> </div> </div> </div> <span class="help-block col-xs-9 col-xs-push-3" ng-messages="$ctrl.form.$submitted && $ctrl.form.firstName.$error"> <span ng-message=required>First name is required</span> </span> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.error.errors.password || ($ctrl.form.$submitted && $ctrl.form.password.$invalid) }"> <label for=password class="col-xs-3 control-label"> Password </label> <div class="col-xs-9 col-sm-8"> <input type=password class=form-control id=password name=password placeholder="Enter a password..." ng-model=$ctrl.user.password required minlength=8> <span class=help-block ng-messages="!$ctrl.error.errors.password && $ctrl.form.$submitted && $ctrl.form.password.$error"> <span ng-message=required>Password is required</span> <span ng-message=minlength>Password must be at least 8 characters</span> </span> <span class=help-block ng-messages=$ctrl.error.errors> <span ng-message=password> {{ $ctrl.error.errors.password[0].message }} </span> </span> </div> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.error.errors.picture }"> <label for=picture class="col-xs-3 control-label"> Picture </label> <div class="col-xs-9 col-sm-8"> <input type=text class=form-control id=picture name=picture placeholder="Image upload coming soon..." ng-model=$ctrl.user.picture disabled=disabled> <span class=help-block ng-if=!$ctrl.error.errors.picture> Ideally 200px x 200px </span> <span class=help-block ng-messages=$ctrl.error.errors> <span ng-message=picture> {{ $ctrl.error.errors.picture[0].message }} </span> </span> </div> </div> <button type=submit hidden></button> </form> <div ng-if=::$ctrl.canSwitch class=row> <div class="col-xs-9 col-xs-push-3"> <p> Already have an account? <a ng-click="$ctrl.$uibModalInstance.dismiss() && $ctrl.Modal.openLogin()" href>Login now</a> </p> </div> </div> </div> <div class=modal-footer> <button type=submit class="btn btn-primary btn-block" ng-click="$ctrl.form.$valid && $ctrl.save($ctrl.user, $ctrl.joinGroup)" ng-disabled="$ctrl.form.$pristine || $ctrl.saving"> <i class="fa fa-fw fa-cog fa-spin" ng-show=$ctrl.saving></i> Sign up </button> </div> ';
},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(154);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ForgotPasswordComponent=void 0;var o=n(155),a=r(o),i=n(156),s=r(i);t.ForgotPasswordComponent={controller:a.default,template:s.default}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,o,a,i,s){var u=this;n(this,e),r(this,{$uibModalInstance:t,Alertify:a,User:i,email:s}),o(function(){return u.email&&u.form.email.$setDirty()})}return e.$inject=["$uibModalInstance","$timeout","Alertify","User","email"],o(e,[{key:"send",value:function(e){var t=this;this.sending=!0,this.User.sendForgotPassword(e).then(function(){t.$uibModalInstance.close(),t.Alertify.success("Sent password recovery email to <strong>"+e+"</strong>")}).catch(function(){return t.Alertify.error("Failed sending password recovery email")}).then(function(){return t.sending=!1})}}]),e}();t.default=a},function(e,t){e.exports='<modal-header modal-title="Forgot your password?" on-close-click=$ctrl.$uibModalInstance.dismiss()></modal-header> <div class=modal-body> <form name=forgotPassword ng-submit="$ctrl.form.$valid && $ctrl.send($ctrl.email)" novalidate> <span ng-init="$ctrl.form = forgotPassword"></span> <div class=form-group ng-class="{ \'has-error\': $ctrl.form.$submitted && $ctrl.form.email.$invalid }"> <label for=email class=control-label> Your email address </label> <input type=email class=form-control id=email name=email placeholder="Email address..." ng-model=$ctrl.email required autofocus> <span class=help-block ng-messages="$ctrl.form.$submitted && $ctrl.form.email.$error"> <span ng-message-exp="[\'required\', \'email\']"> Please enter a valid email address </span> </span> </div> <button type=submit hidden></button> </form> </div> <div class=modal-footer> <button type=submit class="btn btn-primary btn-block" ng-click="$ctrl.form.$valid && $ctrl.send($ctrl.email)" ng-disabled="$ctrl.form.$pristine || $ctrl.sending"> <i class="fa fa-fw fa-cog fa-spin" ng-show=$ctrl.sending></i> Email me a recovery link </button> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(158);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChangePasswordComponent=void 0;var o=n(159),a=r(o),i=n(161),s=r(i);t.ChangePasswordComponent={controller:a.default,template:s.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(160),u=r(s),l=function(){function e(t,n,r,i){o(this,e),a(this,{$uibModalInstance:t,Alertify:n,User:r,user:i})}return e.$inject=["$uibModalInstance","Alertify","User","user"],i(e,[{key:"save",value:function(e,t,n){var r=this,o={},i=u.default.observe(o);a(o,{currentPassword:t,newPassword:n}),this.saving=!0,this.error=null,this.User.update(e,u.default.generate(i)).then(function(){return r.Alertify.success("Password changed")}).then(function(){return r.$uibModalInstance.close()}).catch(function(e){return r.error=e.data.message}).then(function(){return r.saving=!1})}}]),e}();t.default=l},,function(e,t){e.exports='<modal-header modal-title="Change Password" on-close-click=$ctrl.$uibModalInstance.dismiss()></modal-header> <div class=modal-body> <form name=changePassword ng-submit="$ctrl.form.$valid && $ctrl.save($ctrl.user, $ctrl.currentPassword, $ctrl.newPassword)" novalidate> <span ng-init="$ctrl.form = changePassword"></span> <div class=form-group ng-class="{ \'has-error\': $ctrl.error }"> <label for=currentPassword>Current Password</label> <input type=password class=form-control id=currentPassword name=currentPassword placeholder="Enter your current password..." ng-model=$ctrl.currentPassword required autofocus> <span class=help-block ng-if=$ctrl.error> {{ $ctrl.error }} </span> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.form.$submitted && $ctrl.form.newPassword.$invalid }"> <label for=newPassword>New Password</label> <input type=password class=form-control id=newPassword name=newPassword placeholder="Enter a new password..." ng-model=$ctrl.newPassword required minlength=8> <span class=help-block ng-messages=$ctrl.form.newPassword.$error> <span ng-message=minlength>Password must be at least 8 characters</span> </span> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.form.$submitted && $ctrl.form.confirmPassword.$invalid }"> <input type=password class=form-control id=confirmPassword name=confirmPassword placeholder="Enter the same password again..." ng-model=$ctrl.confirmPassword required same-as=$ctrl.newPassword> <span class=help-block ng-messages=$ctrl.form.confirmPassword.$error> <span ng-message=sameAs>Entered passwords must be the same</span> </span> </div> <button type=submit hidden></button> </form> </div> <div class=modal-footer> <button type=button class="btn btn-default" ng-click=$ctrl.$uibModalInstance.dismiss()> Cancel </button> <button type=button class="btn btn-primary" ng-click="$ctrl.save($ctrl.user, $ctrl.currentPassword, $ctrl.newPassword)" ng-disabled="$ctrl.form.$pristine || $ctrl.form.$invalid || $ctrl.saving"> <i class="fa fa-fw fa-cog fa-spin" ng-show=$ctrl.saving></i> Save </button> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(163);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GroupEditComponent=void 0;var o=n(164),a=r(o),i=n(174),s=r(i);t.GroupEditComponent={controller:a.default,template:s.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(165),u=r(s),l=function(){function e(t,n,r,i,s,u,l,c,f){o(this,e),a(this,{$uibModalInstance:t,$state:n,Alertify:r,User:i,Group:s,Modal:u,action:l,group:c,users:f}),this.error=null,this.setupCampaign=!this.group,!c&&this.User.current&&this.resetFields()}return e.$inject=["$uibModalInstance","$state","Alertify","User","Group","Modal","action","group","users"],i(e,[{key:"resetFields",value:function(){this.users=[this.User.current],this.group={name:"",logo:void 0,coverImage:void 0,admins:[this.User.current._id],welcomeMessage:""}}},{key:"onWelcomeContentChanged",value:function(e){var t=e.content;t&&(this.group.welcomeMessage=t)}},{key:"openModal",value:function(e){var t=this;this.Modal["login"===e?"openLogin":"openSignup"](!1).then(function(){return t.User.loadCurrent()}).then(function(){return t.resetFields()}).catch(function(){return null})}},{key:"save",value:function(e){var t=this;this.saving=!0,this.error=null,this.Group.save(e).then(function(e){("create"===t.action||t.Group.current&&t.Group.current._id===e._id)&&(t.Group.current=e,t.User.loadCurrent(!0)),t.$uibModalInstance.close(e),t.Alertify.success((0,u.default)(t.action)+"d group <strong>"+e.name+"</strong>"),"create"===t.action&&t.$state.go("group",{groupSlug:e.urlName,setupCampaign:!!t.setupCampaign||void 0})}).catch(function(e){return t.error=e.data.error}).then(function(){return t.saving=!1})}}]),e}();t.default=l},function(e,t,n){function r(e){return a(o(e).toLowerCase())}var o=n(139),a=n(166);e.exports=r},function(e,t,n){var r=n(167),o=r("toUpperCase");e.exports=o},function(e,t,n){function r(e){return function(t){t=s(t);var n=a(t)?i(t):void 0,r=n?n[0]:t.charAt(0),u=n?o(n,1).join(""):t.slice(1);return r[e]()+u}}var o=n(168),a=n(170),i=n(171),s=n(139);e.exports=r},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:o(e,t,n)}var o=n(169);e.exports=r},function(e,t){function n(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}e.exports=n},function(e,t){function n(e){return c.test(e)}var r="\\ud800-\\udfff",o="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",s=o+a+i,u="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+r+s+u+"]");e.exports=n},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var o=n(172),a=n(170),i=n(173);e.exports=r},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t){function n(e){return e.match(w)||[]}var r="\\ud800-\\udfff",o="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",s=o+a+i,u="\\ufe0e\\ufe0f",l="["+r+"]",c="["+s+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+c+"|"+f+")",p="[^"+r+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",h=d+"?",b="["+u+"]?",y="(?:"+g+"(?:"+[p,m,v].join("|")+")"+b+h+")*",$=b+h+y,_="(?:"+[p+c+"?",c,m,v,l].join("|")+")",w=RegExp(f+"(?="+f+")|"+_+$,"g");e.exports=n},function(e,t){e.exports='<modal-header modal-title="{{ ::$ctrl.action | capitalize }} Group" on-close-click=$ctrl.$uibModalInstance.dismiss()></modal-header> <div class=modal-body> <div uib-alert class=alert-danger ng-if="$ctrl.error && !$ctrl.error.errors"> <i class="fa fa-fw fa-exclamation-triangle"></i> Failed sending request. Please try again or <a href=mailto:support@loveisourweapon.com>contact us</a> about it. </div> <form name=groupEdit class=form-horizontal ng-submit="$ctrl.form.$valid && $ctrl.save($ctrl.group)" ng-if=$ctrl.User.isAuthenticated() novalidate> <span ng-init="$ctrl.form = groupEdit"></span> <div class=form-group ng-class="{ \'has-error\': $ctrl.error.errors.name || $ctrl.error.errors.urlName }"> <label for=name class="col-xs-3 control-label"> Name </label> <div class=col-xs-9> <input type=text class=form-control id=name name=name placeholder="Group name..." ng-model=$ctrl.group.name required autofocus> <span class=help-block ng-if="!($ctrl.error.errors.name || $ctrl.error.errors.urlName)"> https://loveisourweapon.com/g/{{ ($ctrl.group.name | kebabCase) || \'...\' }} </span> <span class=help-block ng-messages=$ctrl.error.errors> <span ng-message-exp="[\'name\', \'urlName\']"> Name is already taken </span> </span> </div> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.error.errors.logo }"> <label for=logo class="col-xs-3 control-label"> Logo </label> <div class=col-xs-9> <input type=text class=form-control id=logo name=logo placeholder="Image upload coming soon..." ng-model=$ctrl.group.logo disabled=disabled> <span class=help-block ng-if=!$ctrl.error.errors.logo> Ideally 500px x 500px </span> <span class=help-block ng-messages=$ctrl.error.errors> <span ng-message=logo> {{ $ctrl.error.errors.logo[0].message }} </span> </span> </div> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.error.errors.coverImage }"> <label for=coverImage class="col-xs-3 control-label"> Cover Image </label> <div class=col-xs-9> <input type=text class=form-control id=coverImage name=coverImage placeholder="Image upload coming soon..." ng-model=$ctrl.group.coverImage disabled=disabled> <span class=help-block ng-if=!$ctrl.error.errors.coverImage> Ideally 1280px x 580px </span> <span class=help-block ng-messages=$ctrl.error.errors> <span ng-message=coverImage> {{ $ctrl.error.errors.coverImage[0].message }} </span> </span> </div> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.error.errors.admins }"> <label for=logo class="col-xs-3 control-label"> Admins </label> <div class=col-xs-9> <ui-select multiple=multiple id=admins name=admins ng-model=$ctrl.group.admins ng-disabled=!$ctrl.group._id> <ui-select-match placeholder="Select admins..." ui-lock-choice="$item._id === $ctrl.group.owner"> <img ng-src="{{ $item.picture || $ctrl.User.getDefaultUserImage($item._id) }}" class="img-circle b-xs m-xxs" style=width:22px> {{ $item.name }} </ui-select-match> <ui-select-choices repeat="user._id as user in $ctrl.users | filter: { name: $select.search }"> <div class=clearfix> <img ng-src="{{ user.picture || $ctrl.User.getDefaultUserImage(user._id) }}" class="img-circle pull-left b-xs m-r-xs" style=width:22px> <div ng-bind-html="user.name | highlight: $select.search"></div> </div> </ui-select-choices> </ui-select> </div> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.error.errors.welcomeMessage }"> <label for=welcomeMessage class="col-xs-3 control-label"> Intro Message </label> <div class=col-xs-9> <medium-editor content=$ctrl.group.welcomeMessage on-content-changed=$ctrl.onWelcomeContentChanged($event) placeholder="Enter a welcome message..."></medium-editor> <span class=help-block ng-if=!$ctrl.error.errors.welcomeMessage> Select text to add links, bold, italics, etc. </span> <span class=help-block ng-messages=$ctrl.error.errors> <span ng-message=welcomeMessage> {{ $ctrl.error.errors.welcomeMessage[0].message }} </span> </span> </div> </div> <div class=form-group ng-if=!$ctrl.group._id> <div class="col-xs-9 col-xs-push-3"> <p> <switch id=setupCampaign name=setupCampaign ng-model=$ctrl.setupCampaign class=m-r-xs></switch> <span ng-click="$ctrl.setupCampaign = !$ctrl.setupCampaign"> Setup your first campaign now? </span> </p> </div> </div> <button type=submit hidden></button> </form> <div ng-if=!$ctrl.User.isAuthenticated()> <p>Please sign up or login to setup a new group</p> <p> <button type=button class="btn btn-primary" ng-click="$ctrl.openModal(\'signup\')"> Sign up </button> &nbsp;&nbsp; or &nbsp;&nbsp; <button type=button class="btn btn-default" ng-click="$ctrl.openModal(\'login\')"> Login </button> </p> </div> </div> <div class=modal-footer> <button type=button class="btn btn-default" ng-click=$ctrl.$uibModalInstance.dismiss()> Cancel </button> <button type=button class="btn btn-primary" ng-click=$ctrl.save($ctrl.group) ng-disabled="!$ctrl.User.isAuthenticated() || $ctrl.saving || $ctrl.form.$invalid"> <i class="fa fa-cog fa-spin" ng-show=$ctrl.saving></i> {{ ::$ctrl.action | capitalize }} </button> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(176);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignEditComponent=void 0;var o=n(177),a=r(o),i=n(273),s=r(i);t.CampaignEditComponent={controller:a.default,template:s.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(178),u=r(s),l=n(191),c=r(l),f=n(231),d=r(f),p=n(261),m=r(p),v=n(165),g=r(v),h=function(){function e(t,n,r,i,s,u,l,c){o(this,e),a(this,{$uibModalInstance:t,Alertify:n,Campaign:r,Deed:i,Modal:s,action:u,group:l}),this.error=null,this.deeds=[],this.loadDeeds(),c?this.campaign=(0,d.default)(c):this.resetFields()}return e.$inject=["$uibModalInstance","Alertify","Campaign","Deed","Modal","action","group","campaign"],i(e,[{key:"resetFields",value:function(){this.campaign={group:this.group._id,deeds:[]}}},{key:"save",value:function(e){var t=this,n=(0,d.default)(e);(0,u.default)(n.deeds,function(e){return e.deed=e.deed._id}),this.saving=!0,this.error=null,this.Campaign.save(n).then(function(){t.$uibModalInstance.close(),t.Alertify.success((0,g.default)(t.action)+"d campaign")}).catch(function(e){return t.error=e.data.error}).then(function(){return t.saving=!1})}},{key:"loadDeeds",value:function(){var e=this;this.loading=!0,this.Deed.find({fields:"_id,title"}).then(function(t){return e.deeds=(0,m.default)((0,c.default)(t,function(e){return{deed:e}}),e.campaign.deeds,"deed._id")}).catch(function(t){return e.error=t.data.error}).then(function(){return e.loading=!1})}}]),e}();t.default=h},function(e,t,n){e.exports=n(179)},function(e,t,n){function r(e,t){var n=s(e)?o:a;return n(e,i(t))}var o=n(180),a=n(181),i=n(190),s=n(94);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=n},function(e,t,n){var r=n(182),o=n(189),a=o(r);e.exports=a},function(e,t,n){function r(e,t){return e&&o(e,t,a)}var o=n(183),a=n(185);e.exports=r},function(e,t,n){var r=n(184),o=r();e.exports=o},function(e,t){function n(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),s=i.length;s--;){var u=i[e?s:++o];if(n(a[u],u,a)===!1)break}return t}}e.exports=n},function(e,t,n){function r(e){return i(e)?o(e):a(e)}var o=n(89),a=n(186),i=n(85);e.exports=r},function(e,t,n){function r(e){if(!o(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var o=n(103),a=n(187),i=Object.prototype,s=i.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(188),o=r(Object.keys,Object);e.exports=o},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!o(n))return e(n,r);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&r(s[i],i,s)!==!1;);return n}}var o=n(85);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:o}var o=n(78);e.exports=r},function(e,t,n){function r(e,t){var n=s(e)?o:i;return n(e,a(t,3))}var o=n(141),a=n(192),i=n(230),s=n(94);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?a(e[0],e[1]):o(e):u(e)}var o=n(193),a=n(222),i=n(78),s=n(94),u=n(227);e.exports=r},function(e,t,n){function r(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}var o=n(194),a=n(219),i=n(221);e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,l=u,c=!r;if(null==e)return!l;for(e=Object(e);u--;){var f=n[u];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<l;){f=n[u];var d=f[0],p=e[d],m=f[1];if(c&&f[2]){if(void 0===p&&!(d in e))return!1}else{var v=new o;if(r)var g=r(p,m,d,e,t,v);if(!(void 0===g?a(m,p,i|s,r,v):g))return!1}}return!0}var o=n(195),a=n(201),i=1,s=2;e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new o(e);this.size=t.size}var o=n(125),a=n(196),i=n(197),s=n(198),u=n(199),l=n(200);r.prototype.clear=a,r.prototype.delete=i,r.prototype.get=s,r.prototype.has=u,r.prototype.set=l,e.exports=r},function(e,t,n){function r(){this.__data__=new o,this.size=0}var o=n(125);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!a||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(r)}return n.set(e,t),this.size=n.size,this}var o=n(125),a=n(132),i=n(116),s=200;e.exports=r},function(e,t,n){function r(e,t,n,s,u){return e===t||(null==e||null==t||!a(e)&&!i(t)?e!==e&&t!==t:o(e,t,n,s,r,u))}var o=n(202),a=n(71),i=n(93);e.exports=r},function(e,t,n){function r(e,t,n,r,g,b){var y=l(e),$=l(t),_=m,w=m;y||(_=u(e),_=_==p?v:_),$||(w=u(t),w=w==p?v:w);var j=_==v,x=w==v,k=_==w;if(k&&c(e)){if(!c(t))return!1;y=!0,j=!1}if(k&&!j)return b||(b=new o),y||f(e)?a(e,t,n,r,g,b):i(e,t,_,n,r,g,b);if(!(n&d)){var O=j&&h.call(e,"__wrapped__"),P=x&&h.call(t,"__wrapped__");if(O||P){var C=O?e.value():e,M=P?t.value():t;return b||(b=new o),g(C,M,n,r,b)}}return!!k&&(b||(b=new o),s(e,t,n,r,g,b))}var o=n(195),a=n(203),i=n(209),s=n(213),u=n(214),l=n(94),c=n(95),f=n(98),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",g=Object.prototype,h=g.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r,l,c){var f=n&s,d=e.length,p=t.length;if(d!=p&&!(f&&p>d))return!1;var m=c.get(e);if(m&&c.get(t))return m==t;var v=-1,g=!0,h=n&u?new o:void 0;for(c.set(e,t),c.set(t,e);++v<d;){var b=e[v],y=t[v];if(r)var $=f?r(y,b,v,t,e,c):r(b,y,v,e,t,c);if(void 0!==$){if($)continue;g=!1;break}if(h){if(!a(t,function(e,t){if(!i(h,t)&&(b===e||l(b,e,n,r,c)))return h.push(t)})){g=!1;break}}else if(b!==y&&!l(b,y,n,r,c)){g=!1;break}}return c.delete(e),c.delete(t),g}var o=n(204),a=n(207),i=n(208),s=1,u=2;e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}var o=n(116),a=n(205),i=n(206);r.prototype.add=r.prototype.push=a,r.prototype.has=i,e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function r(e,t,n,r,o,j,k){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!j(new a(e),new a(t)));case d:case p:case g:return i(+e,+t);case m:return e.name==t.name&&e.message==t.message;case h:case y:return e==t+"";case v:var O=u;case b:var P=r&c;if(O||(O=l),e.size!=t.size&&!P)return!1;var C=k.get(e);if(C)return C==t;r|=f,k.set(e,t);var M=s(O(e),O(t),r,o,j,k);return k.delete(e),M;case $:if(x)return x.call(e)==x.call(t)}return!1}var o=n(66),a=n(210),i=n(56),s=n(203),u=n(211),l=n(212),c=1,f=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",g="[object Number]",h="[object RegExp]",b="[object Set]",y="[object String]",$="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",j=o?o.prototype:void 0,x=j?j.valueOf:void 0;e.exports=r},function(e,t,n){var r=n(67),o=r.Uint8Array;e.exports=o},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function r(e,t,n,r,i,u){var l=n&a,c=o(e),f=c.length,d=o(t),p=d.length;if(f!=p&&!l)return!1;for(var m=f;m--;){var v=c[m];if(!(l?v in t:s.call(t,v)))return!1}var g=u.get(e);if(g&&u.get(t))return g==t;var h=!0;u.set(e,t),u.set(t,e);for(var b=l;++m<f;){v=c[m];var y=e[v],$=t[v];if(r)var _=l?r($,y,v,t,e,u):r(y,$,v,e,t,u);if(!(void 0===_?y===$||i(y,$,n,r,u):_)){h=!1;break}b||(b="constructor"==v)}if(h&&!b){var w=e.constructor,j=t.constructor;w!=j&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof j&&j instanceof j)&&(h=!1)}return u.delete(e),u.delete(t),h}var o=n(185),a=1,i=Object.prototype,s=i.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(215),o=n(132),a=n(216),i=n(217),s=n(218),u=n(65),l=n(74),c="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",g=l(r),h=l(o),b=l(a),y=l(i),$=l(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=v||o&&_(new o)!=c||a&&_(a.resolve())!=d||i&&_(new i)!=p||s&&_(new s)!=m)&&(_=function(e){var t=u(e),n=t==f?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return v;case h:return c;case b:return d;case y:return p;case $:return m}return t}),e.exports=_},function(e,t,n){var r=n(62),o=n(67),a=r(o,"DataView");e.exports=a},function(e,t,n){var r=n(62),o=n(67),a=r(o,"Promise");e.exports=a},function(e,t,n){var r=n(62),o=n(67),a=r(o,"Set");e.exports=a},function(e,t,n){var r=n(62),o=n(67),a=r(o,"WeakMap");e.exports=a},function(e,t,n){function r(e){for(var t=a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,o(i)]}return t}var o=n(220),a=n(185);e.exports=r},function(e,t,n){function r(e){return e===e&&!o(e)}var o=n(71);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}e.exports=n},function(e,t,n){function r(e,t){return s(e)&&u(t)?l(c(e),t):function(n){var r=a(n,e);return void 0===r&&r===t?i(n,e):o(t,r,f|d)}}var o=n(201),a=n(223),i=n(225),s=n(111),u=n(220),l=n(221),c=n(142),f=1,d=2;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}var o=n(224);e.exports=r},function(e,t,n){function r(e,t){t=o(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[a(t[n++])];return n&&n==r?e:void 0}var o=n(110),a=n(142);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&a(e,t,o)}var o=n(226),a=n(109);e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return i(e)?o(s(e)):a(e)}var o=n(228),a=n(229),i=n(111),s=n(142);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return o(t,e)}}var o=n(224);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=a(e)?Array(e.length):[];return o(e,function(e,o,a){r[++n]=t(e,o,a)}),r}var o=n(181),a=n(85);e.exports=r},function(e,t,n){function r(e){return o(e,a|i)}var o=n(232),a=1,i=4;e.exports=r},function(e,t,n){function r(e,t,n,P,C,M){var A,I=t&j,D=t&x,G=t&k;if(n&&(A=C?n(e,P,C,M):n(e)),void 0!==A)return A;if(!_(e))return e;var T=y(e);if(T){if(A=g(e),!I)return c(e,A)}else{var F=v(e),q=F==U||F==S;if($(e))return l(e,I);if(F==E||F==O||q&&!C){if(A=D||q?{}:b(e),!I)return D?d(e,u(A,e)):f(e,s(A,e))}else{if(!Q[F])return C?e:{};A=h(e,F,r,I)}}M||(M=new o);var N=M.get(e);if(N)return N;M.set(e,A);var L=G?D?m:p:D?keysIn:w,z=T?void 0:L(e);return a(z||e,function(o,a){z&&(a=o,o=e[a]),i(A,a,r(o,t,n,a,e,M))}),A}var o=n(195),a=n(180),i=n(59),s=n(233),u=n(234),l=n(235),c=n(236),f=n(237),d=n(240),p=n(244),m=n(246),v=n(214),g=n(247),h=n(248),b=n(259),y=n(94),$=n(95),_=n(71),w=n(185),j=1,x=2,k=4,O="[object Arguments]",P="[object Array]",C="[object Boolean]",M="[object Date]",A="[object Error]",U="[object Function]",S="[object GeneratorFunction]",I="[object Map]",D="[object Number]",E="[object Object]",G="[object RegExp]",T="[object Set]",F="[object String]",q="[object Symbol]",N="[object WeakMap]",L="[object ArrayBuffer]",z="[object DataView]",R="[object Float32Array]",H="[object Float64Array]",Y="[object Int8Array]",B="[object Int16Array]",W="[object Int32Array]",V="[object Uint8Array]",J="[object Uint8ClampedArray]",K="[object Uint16Array]",Z="[object Uint32Array]",Q={};Q[O]=Q[P]=Q[L]=Q[z]=Q[C]=Q[M]=Q[R]=Q[H]=Q[Y]=Q[B]=Q[W]=Q[I]=Q[D]=Q[E]=Q[G]=Q[T]=Q[F]=Q[q]=Q[V]=Q[J]=Q[K]=Q[Z]=!0,Q[A]=Q[U]=Q[N]=!1,e.exports=r},function(e,t,n){function r(e,t){return e&&o(t,a(t),e)}var o=n(58),a=n(185);e.exports=r},function(e,t,n){function r(e,t){return e&&o(t,a(t),e)}var o=n(58),a=n(88);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}var o=n(67),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a,u=s?o.Buffer:void 0,l=u?u.allocUnsafe:void 0;e.exports=r}).call(t,n(96)(e))},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t){return o(e,a(e),t)}var o=n(58),a=n(238);e.exports=r},function(e,t,n){var r=n(188),o=n(239),a=Object.getOwnPropertySymbols,i=a?r(a,Object):o;e.exports=i},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e,t){return o(e,a(e),t)}var o=n(58),a=n(241);e.exports=r},function(e,t,n){var r=n(242),o=n(243),a=n(238),i=n(239),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;e.exports=u},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},function(e,t,n){var r=n(188),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t,n){function r(e){return o(e,i,a)}var o=n(245),a=n(238),i=n(185);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return a(e)?r:o(r,n(e))}var o=n(242),a=n(94);e.exports=r},function(e,t,n){function r(e){return o(e,i,a)}var o=n(245),a=n(241),i=n(88);e.exports=r},function(e,t){function n(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,o=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n,r){var A=e.constructor;switch(t){case y:return o(e);case f:case d:return new A(+e);case $:return a(e,r);case _:case w:case j:case x:case k:case O:case P:case C:case M:return c(e,r);case p:return i(e,r,n);case m:case h:return new A(e);case v:return s(e);case g:return u(e,r,n);case b:return l(e)}}var o=n(249),a=n(250),i=n(251),s=n(254),u=n(255),l=n(257),c=n(258),f="[object Boolean]",d="[object Date]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",h="[object String]",b="[object Symbol]",y="[object ArrayBuffer]",$="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",j="[object Int8Array]",x="[object Int16Array]",k="[object Int32Array]",O="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",M="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=n(210);e.exports=r},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var o=n(249);e.exports=r},function(e,t,n){function r(e,t,n){var r=t?n(i(e),s):i(e);return a(r,o,new e.constructor)}var o=n(252),a=n(253),i=n(211),s=1;e.exports=r},function(e,t){function n(e,t){return e.set(t[0],t[1]),e}e.exports=n},function(e,t){function n(e,t,n,r){var o=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);return n}e.exports=n},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e,t,n){var r=t?n(i(e),s):i(e);return a(r,o,new e.constructor)}var o=n(256),a=n(253),i=n(212),s=1;
e.exports=r},function(e,t){function n(e,t){return e.add(t),e}e.exports=n},function(e,t,n){function r(e){return i?Object(i.call(e)):{}}var o=n(66),a=o?o.prototype:void 0,i=a?a.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var o=n(249);e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||i(e)?{}:o(a(e))}var o=n(260),a=n(243),i=n(103);e.exports=r},function(e,t,n){var r=n(71),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){var r=n(262),o=n(269),a=n(192),i=n(77),s=n(271),u=n(272),l=i(function(e,t){var n=u(t);return s(n)&&(n=void 0),s(e)?r(e,o(t,1,s,!0),a(n,2)):[]});e.exports=l},function(e,t,n){function r(e,t,n,r){var f=-1,d=a,p=!0,m=e.length,v=[],g=t.length;if(!m)return v;n&&(t=s(t,u(n))),r?(d=i,p=!1):t.length>=c&&(d=l,p=!1,t=new o(t));e:for(;++f<m;){var h=e[f],b=null==n?h:n(h);if(h=r||0!==h?h:0,p&&b===b){for(var y=g;y--;)if(t[y]===b)continue e;v.push(h)}else d(t,b,r)||v.push(h)}return v}var o=n(204),a=n(263),i=n(268),s=n(141),u=n(100),l=n(208),c=200;e.exports=r},function(e,t,n){function r(e,t){var n=null==e?0:e.length;return!!n&&o(e,t,0)>-1}var o=n(264);e.exports=r},function(e,t,n){function r(e,t,n){return t===t?i(e,t,n):o(e,a,n)}var o=n(265),a=n(266),i=n(267);e.exports=r},function(e,t){function n(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}e.exports=n},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t){function n(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t,n,i,s){var u=-1,l=e.length;for(n||(n=a),s||(s=[]);++u<l;){var c=e[u];t>0&&n(c)?t>1?r(c,t-1,n,i,s):o(s,c):i||(s[s.length]=c)}return s}var o=n(242),a=n(270);e.exports=r},function(e,t,n){function r(e){return i(e)||a(e)||!!(s&&e&&e[s])}var o=n(66),a=n(91),i=n(94),s=o?o.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){function r(e){return a(e)&&o(e)}var o=n(85),a=n(93);e.exports=r},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t){e.exports='<modal-header modal-title="{{ ::$ctrl.action | capitalize }} Campaign for {{ ::$ctrl.group.name }}" on-close-click=$ctrl.$uibModalInstance.dismiss()></modal-header> <div class=modal-body> <div uib-alert class=alert-danger ng-if="$ctrl.error && !$ctrl.error.errors"> <i class="fa fa-fw fa-exclamation-triangle"></i> Failed sending request. Please try again or <a href=mailto:support@loveisourweapon.com>contact us</a> about it. </div> <p> Create a campaign by dragging deeds from the \'Available Deeds\' list into the \'Your Campaign\' list. You can also re-order deeds within your campaign. </p> <p> We recommend choosing 1 deed for each week of the campaign, so choosing 6 deeds would work best for a 6 week campaign. In our experience with youth groups, a 4-6 week campaign works best to keep up interest and engagement with the campaign. </p> <form name=campaignEdit class=form-horizontal ng-submit=$ctrl.save($ctrl.campaign)> <span ng-init="$ctrl.form = campaignEdit"></span> <div class=form-group> <div class=col-xs-6> <h5>Available Deeds</h5> <ul class=list-group dragula="\'bag-deeds\'" dragula-model=$ctrl.deeds> <li class=list-group-item ng-repeat="item in $ctrl.deeds track by item.deed._id"> <button type=button class="btn btn-link p-none pull-right" ng-click=$ctrl.Modal.openDeedPreview(item.deed._id)> <i class="fa fa-lg fa-info-circle text-info m-l-xs"></i> </button> {{ item.deed.title }} </li> </ul> </div> <div class=col-xs-6> <h5>Your Campaign</h5> <ul class=list-group dragula="\'bag-deeds\'" dragula-model=$ctrl.campaign.deeds> <li class=list-group-item ng-repeat="item in $ctrl.campaign.deeds track by item.deed._id"> <button type=button class="btn btn-link p-none pull-right" ng-click=$ctrl.Modal.openDeedPreview(item.deed._id)> <i class="fa fa-lg fa-info-circle text-info m-l-xs"></i> </button> {{ item.deed.title }} </li> </ul> </div> </div> <button type=submit hidden></button> </form> </div> <div class=modal-footer> <button type=button class="btn btn-default" ng-click=$ctrl.$uibModalInstance.dismiss()> Cancel </button> <button type=button class="btn btn-primary" ng-click=$ctrl.save($ctrl.campaign) ng-disabled="$ctrl.loading || $ctrl.saving || $ctrl.form.$invalid"> <i class="fa fa-cog fa-spin" ng-show=$ctrl.saving></i> {{ ::$ctrl.action | capitalize }} </button> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(275);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DeedPreviewComponent=void 0;var o=n(276),a=r(o),i=n(277),s=r(i);t.DeedPreviewComponent={controller:a.default,template:s.default}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,o,a,i){n(this,e),r(this,{$uibModalInstance:t,Act:a,Deed:o}),this.loadDeed(i)}return e.$inject=["$uibModalInstance","Deed","Act","deedId"],o(e,[{key:"loadDeed",value:function(e){var t=this;this.loading=!0,this.Deed.get(e).then(function(e){t.deed=e,t.Act.count({deed:t.deed._id})}).catch(function(e){return t.error="Deed not found"}).then(function(){return t.loading=!1})}}]),e}();t.default=a},function(e,t){e.exports='<modal-header modal-title="Preview Deed" on-close-click=$ctrl.$uibModalInstance.dismiss()></modal-header> <div class="modal-body deed-modal"> <div class=modal-jumbotron ng-if="!($ctrl.loading || $ctrl.error)"> <div class="embed-responsive embed-responsive-16by9" ng-if=$ctrl.deed.videoUrl> <youtube-video video-url=$ctrl.deed.videoUrl class=embed-responsive-item></youtube-video> </div> <div class="deed-header clearfix"> <img ng-src="{{ $ctrl.deed.logo || \'/images/deed.png\' }}" class="img-responsive img-circle pull-left m-t-md m-r-sm"> <h2 class="text-uppercase pull-left m-b-none"> {{ $ctrl.deed.title }} </h2> <h1 class="pull-right text-right m-b-none"> {{ $ctrl.Act.counters[$ctrl.deed._id] | number }} </h1> </div> </div> <div marked=$ctrl.deed.content ng-if="!($ctrl.loading || $ctrl.error)"></div> <loading-spinner size=5x ng-if=$ctrl.loading></loading-spinner> <div uib-alert class=alert-danger ng-if=$ctrl.error> <i class="fa fa-exclamation-triangle"></i> {{ $ctrl.error }} </div> </div> <div class=modal-footer> <button type=button class="btn btn-default" ng-click=$ctrl.$uibModalInstance.dismiss()> Close </button> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(279);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlertComponent=void 0;var o=n(280),a=r(o),i=n(281),s=r(i);t.AlertComponent={controller:a.default,template:s.default}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=["$uibModalInstance","title","message",function e(t,o,a){n(this,e),r(this,{$uibModalInstance:t,title:o,message:a})}];t.default=o},function(e,t){e.exports='<modal-header modal-title="{{ ::$ctrl.title }}" on-close-click=$ctrl.$uibModalInstance.close() ng-if=::$ctrl.title></modal-header> <div class=modal-body marked=::$ctrl.message></div> <div class=modal-footer> <button type=button class="btn btn-primary" ng-click=$ctrl.$uibModalInstance.close()> OK </button> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(283);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmComponent=void 0;var o=n(284),a=r(o),i=n(285),s=r(i);t.ConfirmComponent={controller:a.default,template:s.default}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=["$uibModalInstance","title","message",function e(t,o,a){n(this,e),r(this,{$uibModalInstance:t,title:o,message:a})}];t.default=o},function(e,t){e.exports='<modal-header modal-title="{{ ::$ctrl.title }}" on-close-click=$ctrl.$uibModalInstance.dismiss() ng-if=::$ctrl.title></modal-header> <div class=modal-body marked=::$ctrl.message></div> <div class=modal-footer> <button type=button class="btn btn-default" ng-click=$ctrl.$uibModalInstance.dismiss()> Cancel </button> <button type=button class="btn btn-primary" ng-click=$ctrl.$uibModalInstance.close()> OK </button> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(287),a=r(o),i={bindings:{modalTitle:"@",onCloseClick:"&"},template:a.default};t.default=i},function(e,t){e.exports='<div class=modal-header> <button type=button class=close data-dismiss=modal aria-label=Close ng-click=$ctrl.onCloseClick()> <span aria-hidden=true><i class="fa fa-times"></i></span> </button> <h4 class=modal-title> {{ $ctrl.modalTitle }} </h4> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=n(289),c=r(l),f=function(){function e(t){o(this,e),a(this,{$window:t}),this.priority=1}return i(e,[{key:"link",value:function(e,t){function n(e){var t=e-62-120;o.style.maxHeight=t+"px"}var r=this,o=(0,c.default)(t.querySelectorAll(".modal-body")),a=u.default.element(this.$window);a.on("resize",function(){return n(r.$window.innerHeight)}),e.$on("$destroy",function(){return a.off("resize",function(){return n(r.$window.innerHeight)})}),n(this.$window.innerHeight)}}]),e}();t.default=f},function(e,t,n){e.exports=n(290)},function(e,t){function n(e){return e&&e.length?e[0]:void 0}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(292),s=r(i),u=n(295),l=r(u),c=a.default.module("navbar",[l.default]).component("navbar",s.default).name;t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(293),a=r(o),i=n(294),s=r(i),u={controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=3,s=function(){function e(t,r,a,i,s,u,l){n(this,e),o(this,{$q:t,$state:r,User:a,Group:i,Deed:s,Act:u,Modal:l})}return e.$inject=["$q","$state","User","Group","Deed","Act","Modal"],a(e,[{key:"$onInit",value:function(){this.choices=[],this.selected=null,this.isCollapsed=!0,this.Act.count()}},{key:"refreshChoices",value:function(e){var t=this;return this.choices=[],!(e.length<i)&&this.$q.all([this.Group.search(e,{fields:"_id,name,urlName"}),this.Deed.search(e,{fields:"_id,title,urlTitle"})]).then(function(e){var n=r(e,2),o=n[0],a=n[1];return t.choices=o.concat(a)})}},{key:"groupChoices",value:function(e){return e.urlName?"Groups":"Deeds"}},{key:"select",value:function(e){this.selected=null,this.collapseMenu(),e.urlName?this.$state.go("group",{groupSlug:e.urlName}):this.$state.go("deed",{deedSlug:e.urlTitle})}},{key:"setUserGroup",value:function(e){this.User.group=e,this.select(e)}},{key:"collapseMenu",value:function(){this.isCollapsed=!0}}]),e}();t.default=s},function(e,t){e.exports='<nav class="navbar navbar-default navbar-fixed-top" id=liow-navbar role=navigation> <div class=container> <div class=navbar-header> <button type=button class=navbar-toggle ng-click="$ctrl.isCollapsed = !$ctrl.isCollapsed" aria-expanded=false> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a href=/ class=navbar-brand ng-click=$ctrl.collapseMenu() title="Love is our Weapon"> <img src=/images/logo-navbar.png alt="Love is our Weapon"> <div class=navbar-brand-label> <span class=text-primary> {{ $ctrl.Act.counters.global | number }} </span> <br><small>acts of love</small> </div> </a> </div> <div class="collapse navbar-collapse" uib-collapse=$ctrl.isCollapsed> <div class="navbar-divider navbar-left"></div> <form class="navbar-form navbar-left" id=group-search role=search> <div class=form-group> <label class=input-group> <div class=input-group-addon><i class="fa fa-search"></i></div> <ui-select ng-model=$ctrl.selected on-select=$ctrl.select($item) append-to-body=false> <ui-select-match placeholder="Find a group or deed..."> {{ $select.selected.name || $select.selected.title }} </ui-select-match> <ui-select-choices repeat="choice in $ctrl.choices" group-by=$ctrl.groupChoices refresh=$ctrl.refreshChoices($select.search) refresh-delay=200 position=down> <div ng-bind-html="(choice.name || choice.title) | highlight:$select.search"></div> </ui-select-choices> </ui-select> </label> </div> </form> <ul class="nav navbar-nav navbar-right"> <li> <a ng-href=/global ng-click=$ctrl.collapseMenu() title="Global Activity Feed"> Global </a> </li> <li ng-if="$ctrl.User.isAuthenticated() && $ctrl.User.group"> <a ng-href="/g/{{ $ctrl.User.group.urlName }}" ng-click=$ctrl.collapseMenu() title="{{ $ctrl.User.group.name }}"> Campaign </a> </li> <li uib-dropdown> <a class=user-dropdown uib-dropdown-toggle role=button aria-haspopup=true aria-expanded=false href> <img ng-src="{{ $ctrl.User.current.picture || $ctrl.User.getDefaultUserImage($ctrl.User.current._id) }}" class=img-circle> <span class=caret></span> </a> <ul uib-dropdown-menu> <li class=dropdown-header ng-if=$ctrl.User.isAuthenticated()> {{ $ctrl.User.current.name }} </li> <li ng-if=$ctrl.User.isAuthenticated()> <a ng-href="/u/{{ $ctrl.User.current._id }}" ng-click=$ctrl.collapseMenu()> <i class="fa fa-fw fa-user"></i> Your Profile </a> </li> <li ng-if=$ctrl.User.isAuthenticated()> <a ng-href=/control-panel ng-click=$ctrl.collapseMenu()> <i class="fa fa-fw fa-cogs"></i> Control Panel </a> </li> <li ng-if=$ctrl.User.isAuthenticated()> <a ng-click="$ctrl.User.logout() && $ctrl.collapseMenu()" href> <i class="fa fa-fw fa-sign-out"></i> Logout </a> </li> <li ng-if=!$ctrl.User.isAuthenticated()> <a ng-click="$ctrl.Modal.openLogin() && $ctrl.collapseMenu()" href> <i class="fa fa-fw fa-sign-in"></i> Login </a> </li> <li ng-if=!$ctrl.User.isAuthenticated()> <a ng-click="$ctrl.Modal.openSignup() && $ctrl.collapseMenu()" href> <i class="fa fa-fw fa-user-plus"></i> Sign up </a> </li> <li class=divider ng-if=$ctrl.User.isAuthenticated() role=separator></li> <li class=dropdown-header ng-if=$ctrl.User.isAuthenticated()> <i class="fa fa-fw fa-users"></i> Groups </li> <li ng-repeat="group in $ctrl.User.current.groups track by group._id" ng-if=$ctrl.User.isAuthenticated() ng-class="{ \'active\': $ctrl.User.group._id === group._id }"> <a ng-click=$ctrl.setUserGroup(group) href> {{ group.name }} </a> </li> <li> <a ng-click="$ctrl.Modal.openGroupEdit() && $ctrl.collapseMenu()" href> <i class="fa fa-fw fa-pencil-square-o"></i> Group sign up </a> </li> </ul> </li> </ul> </div> </div> </nav> '},function(e,t,n){n(296),e.exports="ngAnimate"},function(e,t){!function(e,t){"use strict";function n(e,t,n){if(!e)throw ve("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(J(e)&&(e=e.join(" ")),J(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var r="";return e=J(e)?e:e&&ee(e)&&e.length?e.split(/\s+/):[],V(e,function(e,o){e&&e.length>0&&(r+=o>0?" ":"",r+=n?t+e:e+t)}),r}function i(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof ne)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===T)return e;break;default:return ne(u(e))}if(e.nodeType===T)return ne(e)}function u(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==T)return n}}function l(e,t,n){V(t,function(t){e.addClass(t,n)})}function c(e,t,n){V(t,function(t){e.removeClass(t,n)})}function f(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||re;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=re},e.$$prepared=!0}return e}function p(e,t){m(e,t),v(e,t)}function m(e,t){t.from&&(e.css(t.from),t.from=null)}function v(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var r=t.options||{},o=n.options||{},a=(r.addClass||"")+" "+(o.addClass||""),i=(r.removeClass||"")+" "+(o.removeClass||""),s=h(e.attr("class"),a,i);o.preparationClasses&&(r.preparationClasses=x(o.preparationClasses,r.preparationClasses),delete o.preparationClasses);var u=r.domOperation!==re?r.domOperation:null;return W(r,o),u&&(r.domOperation=u),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function h(e,t,n){function r(e){ee(e)&&(e=e.split(" "));var t={};return V(e,function(e){e.length&&(t[e]=!0)}),t}var o=1,a=-1,i={};e=r(e),t=r(t),V(t,function(e,t){i[t]=o}),n=r(n),V(n,function(e,t){i[t]=i[t]===o?null:a});var s={addClass:"",removeClass:""};return V(i,function(t,n){var r,i;t===o?(r="addClass",i=!e[n]||e[n+q]):t===a&&(r="removeClass",i=e[n]||e[n+F]),i&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function b(e){return e instanceof ne?e[0]:e}function y(e,t,n){var r="";t&&(r=a(t,N,!0)),n.addClass&&(r=x(r,a(n.addClass,F))),n.removeClass&&(r=x(r,a(n.removeClass,q))),r.length&&(n.preparationClasses=r,e.addClass(r))}function $(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function _(e,t){var n=t?"-"+t+"s":"";return j(e,[pe,n]),[pe,n]}function w(e,t){var n=t?"paused":"",r=E+le;return j(e,[r,n]),[r,n]}function j(e,t){var n=t[0],r=t[1];e.style[n]=r}function x(e,t){return e?t?e+" "+t:e:t}function k(e){return[de,e+"s"]}function O(e,t){var n=t?fe:pe;return[n,e+"s"]}function P(e,t,n){var r=Object.create(null),o=e.getComputedStyle(t)||{};return V(n,function(e,t){var n=o[e];if(n){var a=n.charAt(0);("-"===a||"+"===a||a>=0)&&(n=C(n)),0===n&&(n=null),r[t]=n}}),r}function C(e){var t=0,n=e.split(/\s*,\s*/);return V(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function M(e){return 0===e||null!=e}function A(e,t){var n=I,r=e+"s";return t?n+=oe:r+=" linear all",[n,r]}function U(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function S(e,t,n){V(n,function(n){e[n]=K(e[n])?e[n]:t.style.getPropertyValue(n)})}var I,D,E,G,T=1,F="-add",q="-remove",N="ng-",L="-active",z="-prepare",R="ng-animate",H="$$ngAnimateChildren",Y="";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(Y="-webkit-",I="WebkitTransition",D="webkitTransitionEnd transitionend"):(I="transition",D="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(Y="-webkit-",E="WebkitAnimation",G="webkitAnimationEnd animationend"):(E="animation",G="animationend");var B,W,V,J,K,Z,Q,X,ee,te,ne,re,oe="Duration",ae="Property",ie="Delay",se="TimingFunction",ue="IterationCount",le="PlayState",ce=9999,fe=E+ie,de=E+oe,pe=I+ie,me=I+oe,ve=t.$$minErr("ng"),ge=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),a=0;a<t.length;a++)t[a]();o||e(function(){o||n()})}}var r,o;return r=t.queue=[],t.waitUntilQuiet=function(t){o&&o(),o=e(function(){o=null,t(),n()})},t}],he=["$interpolate",function(e){return{link:function(t,n,r){function o(e){e="on"===e||"true"===e,n.data(H,e)}var a=r.ngAnimateChildren;ee(a)&&0===a.length?n.data(H,!0):(o(e(a)(t)),r.$observe("ngAnimateChildren",o))}}}],be="$$animateCss",ye=1e3,$e=3,_e=1.5,we={transitionDuration:me,transitionDelay:pe,transitionProperty:I+ae,animationDuration:de,animationDelay:fe,animationIterationCount:E+ue},je={transitionDuration:me,transitionDelay:pe,animationDuration:de,animationDelay:fe},xe=["$animateProvider",function(e){var t=U(),n=U();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,r,s,u,l,c,g,h){function y(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,o=r[n]||(r[n]=++z);return o+"-"+e.getAttribute("class")+"-"+t}function $(n,r,o,a){var i=t.get(o);return i||(i=P(e,n,a),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),t.put(o,i),i}function x(o,i,s,u){var l;if(t.count(s)>0&&(l=n.get(s),!l)){var c=a(i,"-stagger");r.addClass(o,c),l=P(e,o,u),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),r.removeClass(o,c),n.put(s,l)}return l||{}}function C(e){R.push(e),g.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),r=0;r<R.length;r++)R[r](e);R.length=0})}function U(e,t,n){var r=$(e,t,n,we),o=r.animationDelay,a=r.transitionDelay;return r.maxDelay=o&&a?Math.max(o,a):o||a,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var T=f(r),z=0,R=[];return function(e,n){function l(){g()}function f(){g(!0)}function g(t){if(!(K||Q&&Z)){K=!0,Z=!1,H.$$skipPreparationClasses||r.removeClass(e,we),r.removeClass(e,ke),w(W,!1),_(W,!1),V(le,function(e){W.style[e[0]]=""}),T(e,H),p(e,H),Object.keys(Y).length&&V(Y,function(e,t){e?W.style.setProperty(t,e):W.style.removeProperty(t)}),H.onDone&&H.onDone(),pe&&pe.length&&e.off(pe.join(" "),z);var n=e.data(be);n&&(u.cancel(n[0].timer),e.removeData(be)),X&&X.complete(!t)}}function $(e){qe.blockTransition&&_(W,e),qe.blockKeyframeAnimation&&w(W,!!e)}function P(){return X=new s({end:l,cancel:f}),C(re),g(),{$$willAnimate:!1,start:function(){return X},end:l}}function z(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed($e));Math.max(n-ue,0)>=ne&&r>=oe&&(Q=!0,g())}function R(){function t(){if(!K){if($(!1),V(le,function(e){var t=e[0],n=e[1];W.style[t]=n}),T(e,H),r.addClass(e,ke),qe.recalculateTimingStyles){if(xe=W.className+" "+we,Ce=y(W,xe),Te=U(W,xe,Ce),Fe=Te.maxDelay,te=Math.max(Fe,0),oe=Te.maxDuration,0===oe)return void g();qe.hasTransitions=Te.transitionDuration>0,qe.hasAnimations=Te.animationDuration>0}if(qe.applyAnimationDelay&&(Fe="boolean"!=typeof H.delay&&M(H.delay)?parseFloat(H.delay):Fe,te=Math.max(Fe,0),Te.animationDelay=Fe,Ne=O(Fe,!0),le.push(Ne),W.style[Ne[0]]=Ne[1]),ne=te*ye,ie=oe*ye,H.easing){var t,o=H.easing;qe.hasTransitions&&(t=I+se,le.push([t,o]),W.style[t]=o),qe.hasAnimations&&(t=E+se,le.push([t,o]),W.style[t]=o)}Te.transitionDuration&&pe.push(D),Te.animationDuration&&pe.push(G),ue=Date.now();var a=ne+_e*ie,i=ue+a,s=e.data(be)||[],l=!0;if(s.length){var c=s[0];l=i>c.expectedEndTime,l?u.cancel(c.timer):s.push(g)}if(l){var f=u(n,a,!1);s[0]={timer:f,expectedEndTime:i},s.push(g),e.data(be,s)}pe.length&&e.on(pe.join(" "),z),H.to&&(H.cleanupStyles&&S(Y,W,Object.keys(H.to)),v(e,H))}}function n(){var t=e.data(be);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(be)}}if(!K){if(!W.parentNode)return void g();var o=function(e){if(Q)Z&&e&&(Z=!1,g());else if(Z=!e,Te.animationDuration){var t=w(W,Z);Z?le.push(t):i(le,t)}},a=Ee>0&&(Te.transitionDuration&&0===Me.transitionDuration||Te.animationDuration&&0===Me.animationDuration)&&Math.max(Me.animationDelay,Me.transitionDelay);a?u(t,Math.floor(a*Ee*ye),!1):t(),ee.resume=function(){o(!0)},ee.pause=function(){o(!1)}}}var H=n||{};H.$$prepared||(H=d(B(H)));var Y={},W=b(e);if(!W||!W.parentNode||!h.enabled())return P();var K,Z,Q,X,ee,te,ne,oe,ie,ue,le=[],fe=e.attr("class"),de=o(H),pe=[];if(0===H.duration||!c.animations&&!c.transitions)return P();var me=H.event&&J(H.event)?H.event.join(" "):H.event,ve=me&&H.structural,ge="",he="";ve?ge=a(me,N,!0):me&&(ge=me),H.addClass&&(he+=a(H.addClass,F)),H.removeClass&&(he.length&&(he+=" "),he+=a(H.removeClass,q)),H.applyClassesEarly&&he.length&&T(e,H);var we=[ge,he].join(" ").trim(),xe=fe+" "+we,ke=a(we,L),Oe=de.to&&Object.keys(de.to).length>0,Pe=(H.keyframeStyle||"").length>0;if(!Pe&&!Oe&&!we)return P();var Ce,Me;if(H.stagger>0){var Ae=parseFloat(H.stagger);Me={transitionDelay:Ae,animationDelay:Ae,transitionDuration:0,animationDuration:0}}else Ce=y(W,xe),Me=x(W,we,Ce,je);H.$$skipPreparationClasses||r.addClass(e,we);var Ue;if(H.transitionStyle){var Se=[I,H.transitionStyle];j(W,Se),le.push(Se)}if(H.duration>=0){Ue=W.style[I].length>0;var Ie=A(H.duration,Ue);j(W,Ie),le.push(Ie)}if(H.keyframeStyle){var De=[E,H.keyframeStyle];j(W,De),le.push(De)}var Ee=Me?H.staggerIndex>=0?H.staggerIndex:t.count(Ce):0,Ge=0===Ee;Ge&&!H.skipBlocking&&_(W,ce);var Te=U(W,xe,Ce),Fe=Te.maxDelay;te=Math.max(Fe,0),oe=Te.maxDuration;var qe={};if(qe.hasTransitions=Te.transitionDuration>0,qe.hasAnimations=Te.animationDuration>0,qe.hasTransitionAll=qe.hasTransitions&&"all"==Te.transitionProperty,qe.applyTransitionDuration=Oe&&(qe.hasTransitions&&!qe.hasTransitionAll||qe.hasAnimations&&!qe.hasTransitions),qe.applyAnimationDuration=H.duration&&qe.hasAnimations,qe.applyTransitionDelay=M(H.delay)&&(qe.applyTransitionDuration||qe.hasTransitions),qe.applyAnimationDelay=M(H.delay)&&qe.hasAnimations,qe.recalculateTimingStyles=he.length>0,(qe.applyTransitionDuration||qe.applyAnimationDuration)&&(oe=H.duration?parseFloat(H.duration):oe,qe.applyTransitionDuration&&(qe.hasTransitions=!0,Te.transitionDuration=oe,Ue=W.style[I+ae].length>0,le.push(A(oe,Ue))),qe.applyAnimationDuration&&(qe.hasAnimations=!0,Te.animationDuration=oe,le.push(k(oe)))),0===oe&&!qe.recalculateTimingStyles)return P();if(null!=H.delay){var Ne;"boolean"!=typeof H.delay&&(Ne=parseFloat(H.delay),te=Math.max(Ne,0)),qe.applyTransitionDelay&&le.push(O(Ne)),qe.applyAnimationDelay&&le.push(O(Ne,!0))}return null==H.duration&&Te.transitionDuration>0&&(qe.recalculateTimingStyles=qe.recalculateTimingStyles||Ge),ne=te*ye,ie=oe*ye,H.skipBlocking||(qe.blockTransition=Te.transitionDuration>0,qe.blockKeyframeAnimation=Te.animationDuration>0&&Me.animationDelay>0&&0===Me.animationDuration),H.from&&(H.cleanupStyles&&S(Y,W,Object.keys(H.from)),m(e,H)),qe.blockTransition||qe.blockKeyframeAnimation?$(oe):H.skipBlocking||_(W,!1),{$$willAnimate:!0,end:l,start:function(){if(!K)return ee={end:l,cancel:f,resume:null,pause:null},X=new s(ee),C(R),X}}}}]}],ke=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",o="ng-anchor-out",a="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,i,s,u,l,c,d){function p(e){return e.replace(/\bng-\S+\b/g,"")}function m(e,t){return ee(e)&&(e=e.split(" ")),ee(t)&&(t=t.split(" ")),e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function v(t,i,u){function l(e){var t={},n=b(e).getBoundingClientRect();return V(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=y.scrollTop;break;case"left":r+=y.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function c(){var t=e(g,{addClass:o,delay:!0,from:l(i)});return t.$$willAnimate?t:null}function f(e){return e.attr("class")||""}function d(){var t=p(f(u)),n=m(t,h),r=m(h,t),i=e(g,{to:l(u),addClass:a+" "+n,removeClass:o+" "+r,delay:!0});return i.$$willAnimate?i:null}function v(){g.remove(),i.removeClass(n),u.removeClass(n)}var g=ne(b(i).cloneNode(!0)),h=p(f(g));i.addClass(n),u.addClass(n),g.addClass(r),_.append(g);var $,w=c();if(!w&&($=d(),!$))return v();var j=w||$;return{start:function(){function e(){n&&n.end()}var t,n=j.start();return n.done(function(){return n=null,!$&&($=d())?(n=$.start(),n.done(function(){n=null,v(),t.complete()}),n):(v(),void t.complete())}),t=new s({end:e,cancel:e})}}}function g(e,t,n,r){var o=h(e,re),a=h(t,re),i=[];if(V(r,function(e){var t=e.out,r=e.in,o=v(n,t,r);o&&i.push(o)}),o||a||0!==i.length)return{start:function(){function e(){V(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),a&&t.push(a.start()),V(i,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}}function h(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=x(r.event,r.preparationClasses));var o=e(n,r);return o.$$willAnimate?o:null}if(!l.animations&&!l.transitions)return re;var y=d[0].body,$=b(u),_=ne(t($)||y.contains($)?$:y);return f(c),function(e){return e.from&&e.to?g(e.from,e.to,e.classes,e.anchors):h(e)}}]}],Oe=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function o(n){n=J(n)?n:n.split(" ");for(var r=[],o={},a=0;a<n.length;a++){var i=n[a],s=e.$$registeredAnimations[i];s&&!o[i]&&(r.push(t.get(s)),o[i]=!0)}return r}var a=f(r);return function(e,t,r,i){function s(){i.domOperation(),a(e,i)}function u(){m=!0,s(),p(e,i)}function l(e,t,r,o,a){var i;switch(r){case"animate":
i=[t,o.from,o.to,a];break;case"setClass":i=[t,h,b,a];break;case"addClass":i=[t,h,a];break;case"removeClass":i=[t,b,a];break;default:i=[t,a]}i.push(o);var s=e.apply(e,i);if(s)if(Q(s.start)&&(s=s.start()),s instanceof n)s.done(a);else if(Q(s))return s;return re}function c(e,t,r,o,a){var i=[];return V(o,function(o){var s=o[a];s&&i.push(function(){var o,a,i=!1,u=function(e){i||(i=!0,(a||re)(e),o.complete(!e))};return o=new n({end:function(){u()},cancel:function(){u(!0)}}),a=l(s,e,t,r,function(e){var t=e===!1;u(t)}),o})}),i}function f(e,t,r,o,a){var i=c(e,t,r,o,a);if(0===i.length){var s,u;"beforeSetClass"===a?(s=c(e,"removeClass",r,o,"beforeRemoveClass"),u=c(e,"addClass",r,o,"beforeAddClass")):"setClass"===a&&(s=c(e,"removeClass",r,o,"removeClass"),u=c(e,"addClass",r,o,"addClass")),s&&(i=i.concat(s)),u&&(i=i.concat(u))}if(0!==i.length)return function(e){var t=[];return i.length&&V(i,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){V(t,function(t){e?t.cancel():t.end()})}}}var m=!1;3===arguments.length&&X(r)&&(i=r,r=null),i=d(i),r||(r=e.attr("class")||"",i.addClass&&(r+=" "+i.addClass),i.removeClass&&(r+=" "+i.removeClass));var v,g,h=i.addClass,b=i.removeClass,y=o(r);if(y.length){var $,_;"leave"==t?(_="leave",$="afterLeave"):(_="before"+t.charAt(0).toUpperCase()+t.substr(1),$=t),"enter"!==t&&"move"!==t&&(v=f(e,t,i,y,_)),g=f(e,t,i,y,$)}if(v||g){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(u(),w=new n,w.complete(!0)),w},start:function(){function e(e){u(e),w.complete(e)}function t(t){m||((r||re)(t),e(t))}if(w)return w;w=new n;var r,o=[];return v&&o.push(function(e){r=v(e)}),o.length?o.push(function(e){s(),e(!0)}):s(),g&&o.push(function(e){r=g(e)}),w.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(o,e),w}}}}}]}],Pe=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,o=t.options,a=t.classes;return e(n,r,a,o)}return function(e){if(e.from&&e.to){var r=n(e.from),o=n(e.to);if(!r&&!o)return;return{start:function(){function e(){return function(){V(a,function(e){e.end()})}}function n(e){i.complete(e)}var a=[];r&&a.push(r.start()),o&&a.push(o.start()),t.all(a,n);var i=new t({end:e(),cancel:e()});return i}}}return n(e)}}]}],Ce="data-ng-animate",Me="$ngAnimatePin",Ae=["$animateProvider",function(t){function r(e){if(!e)return null;var t=e.split(m),n=Object.create(null);return V(t,function(e){n[e]=!0}),n}function o(e,t){if(e&&t){var n=r(t);return e.split(m).some(function(e){return n[e]})}}function a(e,t,n,r){return v[e].some(function(e){return e(t,n,r)})}function i(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var l=1,c=2,m=" ",v=this.rules={skip:[],cancel:[],join:[]};v.join.push(function(e,t,n){return!t.structural&&i(t)}),v.skip.push(function(e,t,n){return!t.structural&&!i(t)}),v.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),v.skip.push(function(e,t,n){return n.structural&&n.state===c&&!t.structural}),v.cancel.push(function(e,t,n){return n.structural&&t.structural}),v.cancel.push(function(e,t,n){return n.state===c&&t.structural}),v.cancel.push(function(e,t,n){if(n.structural)return!1;var r=t.addClass,a=t.removeClass,i=n.addClass,s=n.removeClass;return!(te(r)&&te(a)||te(i)&&te(s))&&(o(r,s)||o(a,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(r,o,m,v,h,_,w,j,x,k){function O(){var e=!1;return function(t){e?t():o.$$postDigest(function(){e=!0,t()})}}function P(e,t){return g(e,t,{})}function C(e,t,n){var r=b(t),o=b(e),a=[],i=z[n];return i&&V(i,function(e){re.call(e.node,r)?a.push(e.callback):"leave"===n&&re.call(e.node,o)&&a.push(e.callback)}),a}function M(e,t,n){var r=u(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}function A(e,t){"close"!==e||t[0].parentNode||oe.off(t)}function U(e,t,n){function u(t,n,o,a){k(function(){var t=C(h,e,n);t.length?r(function(){V(t,function(t){t(e,o,a)}),A(o,e)}):A(o,e)}),t.progress(n,o,a)}function f(t){$(e,j),Q(e,j),p(e,j),j.domOperation(),x.complete(!t)}var m,h,j=B(n);e=s(e),e&&(m=b(e),h=e.parent()),j=d(j);var x=new w,k=O();if(J(j.addClass)&&(j.addClass=j.addClass.join(" ")),j.addClass&&!ee(j.addClass)&&(j.addClass=null),J(j.removeClass)&&(j.removeClass=j.removeClass.join(" ")),j.removeClass&&!ee(j.removeClass)&&(j.removeClass=null),j.from&&!X(j.from)&&(j.from=null),j.to&&!X(j.to)&&(j.to=null),!m)return f(),x;var M=[m.className,j.addClass,j.removeClass].join(" ");if(!Y(M))return f(),x;var U=["enter","move","leave"].indexOf(t)>=0,D=v[0].hidden,T=!N||D||q.get(m),L=!T&&F.get(m)||{},z=!!L.state;if(T||z&&L.state==l||(T=!E(e,h,t)),T)return D&&u(x,t,"start"),f(),D&&u(x,t,"close"),x;U&&S(e);var R={structural:U,element:e,event:t,addClass:j.addClass,removeClass:j.removeClass,close:f,options:j,runner:x};if(z){var H=a("skip",e,R,L);if(H)return L.state===c?(f(),x):(g(e,L,R),L.runner);var W=a("cancel",e,R,L);if(W)if(L.state===c)L.runner.end();else{if(!L.structural)return g(e,L,R),L.runner;L.close()}else{var K=a("join",e,R,L);if(K){if(L.state!==c)return y(e,U?t:null,j),t=R.event=L.event,j=g(e,L,R),L.runner;P(e,R)}}}else P(e,R);var Z=R.structural;if(Z||(Z="animate"===R.event&&Object.keys(R.options.to||{}).length>0||i(R)),!Z)return f(),I(e),x;var te=(L.counter||0)+1;return R.counter=te,G(e,l,R),o.$$postDigest(function(){var n=F.get(m),r=!n;n=n||{};var o=e.parent()||[],a=o.length>0&&("animate"===n.event||n.structural||i(n));if(r||n.counter!==te||!a)return r&&(Q(e,j),p(e,j)),(r||U&&n.event!==t)&&(j.domOperation(),x.end()),void(a||I(e));t=!n.structural&&i(n,!0)?"setClass":n.event,G(e,c);var s=_(e,t,n.options);x.setHost(s),u(x,t,"start",{}),s.done(function(n){f(!n);var r=F.get(m);r&&r.counter===te&&I(b(e)),u(x,t,"close",{})})}),x}function S(e){var t=b(e),n=t.querySelectorAll("["+Ce+"]");V(n,function(e){var t=parseInt(e.getAttribute(Ce)),n=F.get(e);if(n)switch(t){case c:n.runner.end();case l:F.remove(e)}})}function I(e){var t=b(e);t.removeAttribute(Ce),F.remove(t)}function D(e,t){return b(e)===b(t)}function E(e,t,n){var r,o=ne(v[0].body),a=D(e,o)||"HTML"===e[0].nodeName,i=D(e,m),s=!1,u=q.get(b(e)),l=ne.data(e[0],Me);for(l&&(t=l),t=b(t);t&&(i||(i=D(t,m)),t.nodeType===T);){var c=F.get(t)||{};if(!s){var f=q.get(t);if(f===!0&&u!==!1){u=!0;break}f===!1&&(u=!1),s=c.structural}if(te(r)||r===!0){var d=ne.data(t,H);K(d)&&(r=d)}if(s&&r===!1)break;if(a||(a=D(t,o)),a&&i)break;t=i||!(l=ne.data(t,Me))?t.parentNode:b(l)}var p=(!s||r)&&u!==!0;return p&&i&&a}function G(e,t,n){n=n||{},n.state=t;var r=b(e);r.setAttribute(Ce,t);var o=F.get(r),a=o?W(o,n):n;F.put(r,a)}var F=new h,q=new h,N=null,L=o.$watch(function(){return 0===j.totalPendingRequests},function(e){e&&(L(),o.$$postDigest(function(){o.$$postDigest(function(){null===N&&(N=!0)})}))}),z=Object.create(null),R=t.classNameFilter(),Y=R?function(e){return R.test(e)}:function(){return!0},Q=f(x),re=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},oe={on:function(e,t,n){var r=u(t);z[e]=z[e]||[],z[e].push({node:r,callback:n}),ne(t).on("$destroy",function(){var o=F.get(r);o||oe.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||ee(arguments[0])){var r=z[e];r&&(z[e]=1===arguments.length?null:M(r,t,n))}else{t=arguments[0];for(var o in z)z[o]=M(z[o],t)}},pin:function(e,t){n(Z(e),"element","not an element"),n(Z(t),"parentElement","not an element"),e.data(Me,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,U(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!N;else{var r=Z(e);if(r){var o=b(e);1===n?t=!q.get(o):q.put(o,!t)}else t=N=!!e}return t}};return oe}]}],Ue=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function o(e){return e.data(s)}var a="ng-animate-ref",i=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,u,l,c,m){function v(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,r=n.parentNode;a.put(n,e);for(var i;r;){if(i=a.get(r)){i.processed||(i=t(i));break}r=r.parentNode}return(i||o).children.push(e),e}function n(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var o=r.length,a=0,i=[];for(t=0;t<r.length;t++){var s=r[t];o<=0&&(o=a,a=0,n.push(i),i=[]),i.push(s.fn),s.children.forEach(function(e){a++,r.push(e)}),o--}return i.length&&n.push(i),n}var r,o={children:[]},a=new c;for(r=0;r<e.length;r++){var i=e[r];a.put(i.domNode,e[r]={domNode:i.domNode,fn:i.fn,children:[]})}for(r=0;r<e.length;r++)t(e[r]);return n(o)}var g=[],h=f(e);return function(c,f,y){function $(e){var t="["+a+"]",n=e.hasAttribute(a)?[e]:e.querySelectorAll(t),r=[];return V(n,function(e){var t=e.getAttribute(a);t&&t.length&&r.push(e)}),r}function _(e){var t=[],n={};V(e,function(e,r){var o=e.element,i=b(o),s=e.event,u=["enter","move"].indexOf(s)>=0,l=e.structural?$(i):[];if(l.length){var c=u?"to":"from";V(l,function(e){var t=e.getAttribute(a);n[t]=n[t]||{},n[t][c]={animationID:r,element:ne(e)}})}else t.push(e)});var r={},o={};return V(n,function(n,a){var i=n.from,s=n.to;if(!i||!s){var u=i?i.animationID:s.animationID,l=u.toString();return void(r[l]||(r[l]=!0,t.push(e[u])))}var c=e[i.animationID],f=e[s.animationID],d=i.animationID.toString();if(!o[d]){var p=o[d]={structural:!0,beforeStart:function(){c.beforeStart(),f.beforeStart()},close:function(){c.close(),f.close()},classes:w(c.classes,f.classes),from:c,to:f,anchors:[]};p.classes.length?t.push(p):(t.push(c),t.push(f))}o[d].anchors.push({out:i.element,in:s.element})}),t}function w(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var o=e[r];if("ng-"!==o.substring(0,3))for(var a=0;a<t.length;a++)if(o===t[a]){n.push(o);break}}return n.join(" ")}function j(e){for(var t=i.length-1;t>=0;t--){var n=i[t],r=u.get(n),o=r(e);if(o)return o}}function x(){c.addClass(R),U&&e.addClass(c,U),S&&(e.removeClass(c,S),S=null)}function k(e,t){function n(e){var n=o(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function O(){var e=o(c);!e||"leave"===f&&y.$$domOperationFired||e.end()}function P(t){c.off("$destroy",O),n(c),h(c,y),p(c,y),y.domOperation(),U&&e.removeClass(c,U),c.removeClass(R),M.complete(!t)}y=d(y);var C=["enter","move","leave"].indexOf(f)>=0,M=new l({end:function(){P()},cancel:function(){P(!0)}});if(!i.length)return P(),M;t(c,M);var A=r(c.attr("class"),r(y.addClass,y.removeClass)),U=y.tempClasses;U&&(A+=" "+U,y.tempClasses=null);var S;return C&&(S="ng-"+f+z,e.addClass(c,S)),g.push({element:c,classes:A,event:f,structural:C,options:y,beforeStart:x,close:P}),c.on("$destroy",O),g.length>1?M:(s.$$postDigest(function(){var e=[];V(g,function(t){o(t.element)?e.push(t):t.close()}),g.length=0;var t=_(e),n=[];V(t,function(e){n.push({domNode:b(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,r=e.anchors?e.from.element||e.to.element:e.element;if(o(r)){var a=j(e);a&&(t=a.start)}if(t){var i=t();i.done(function(e){n(!e)}),k(e,i)}else n()}})}),m(v(n))}),M)}}]}],Se=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,o,a){var i,s;t.$watchCollection(r.ngAnimateSwap||r.for,function(r){i&&e.leave(i),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),a(s,function(t){i=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){re=t.noop,B=t.copy,W=t.extend,ne=t.element,V=t.forEach,J=t.isArray,ee=t.isString,X=t.isObject,te=t.isUndefined,K=t.isDefined,Q=t.isFunction,Z=t.isElement}).directive("ngAnimateSwap",Se).directive("ngAnimateChildren",he).factory("$$rAFScheduler",ge).provider("$$animateQueue",Ae).provider("$$animation",Ue).provider("$animateCss",xe).provider("$$animateCssDriver",ke).provider("$$animateJs",Oe).provider("$$animateJsDriver",Pe)}(window,window.angular)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(298),s=r(i),u=n(302),l=r(u),c=n(311),f=r(c),d=a.default.module("feed",[]).service("Feed",s.default).component("feed",l.default).component("feedItem",f.default).name;t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(299),u=r(s),l=n(300),c=r(l),f=80,d={},p=function(){function e(t,n,r){o(this,e),a(this,{$http:t,$timeout:n}),this.baseUrl=r.serverUrl+"/feeds"}return e.$inject=["$http","$timeout","config"],i(e,[{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$http.get(this.baseUrl,{params:e}).then(function(e){return e.data})}},{key:"onUpdate",value:function(e){var t=c.default.v4();return d[t]={callback:e},function(){return delete d[t]}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$timeout(function(){(0,u.default)(d,function(t){return t.callback(e)})},f)}}]),e}();t.default=p},function(e,t,n){function r(e,t){return e&&o(e,a(t))}var o=n(182),a=n(190);e.exports=r},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(303),a=r(o),i=n(310),s=r(i),u={bindings:{criteria:"<"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(107),u=r(s),l=n(304),c=r(l),f=function(){function e(t,n){o(this,e),a(this,{User:t,Feed:n})}return e.$inject=["User","Feed"],i(e,[{key:"$onInit",value:function(){var e=this;this.feedItems=null,this.feedUpdateOff=this.Feed.onUpdate(function(t){(t.clear||t.refresh)&&(e.feedItems=null,t.clear)||e.loadFeed(e.feedItems?{after:e.feedItems[0]._id}:{})})}},{key:"$onDestroy",value:function(){this.feedUpdateOff()}},{key:"loadFeed",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.Feed.find((0,c.default)(t,this.criteria)).then(function(n){(0,u.default)(t,"before")?e.feedItems=e.feedItems.concat(n):(0,u.default)(t,"after")?e.feedItems=n.concat(e.feedItems):e.feedItems=n}).catch(function(){return null}).then(function(){return e.loading=!1})}},{key:"onInView",value:function(e,t){t===this.feedItems.length-1&&e&&this.loadFeed({before:this.feedItems[this.feedItems.length-1]._id})}}]),e}();t.default=f},function(e,t,n){var r=n(305),o=n(76),a=o(function(e,t,n){r(e,t,n)});e.exports=a},function(e,t,n){function r(e,t,n,c,f){e!==t&&i(t,function(i,l){if(u(i))f||(f=new o),s(e,t,l,n,r,c,f);else{var d=c?c(e[l],i,l+"",e,t,f):void 0;void 0===d&&(d=i),a(e,l,d)}},l)}var o=n(195),a=n(306),i=n(183),s=n(307),u=n(71),l=n(88);e.exports=r},function(e,t,n){function r(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||o(e,t,n)}var o=n(60),a=n(56);e.exports=r},function(e,t,n){function r(e,t,n,r,b,y,$){var _=e[n],w=t[n],j=$.get(w);if(j)return void o(e,n,j);var x=y?y(_,w,n+"",e,t,$):void 0,k=void 0===x;if(k){var O=c(w),P=!O&&d(w),C=!O&&!P&&g(w);x=w,O||P||C?c(_)?x=_:f(_)?x=s(_):P?(k=!1,x=a(w,!0)):C?(k=!1,x=i(w,!0)):x=[]:v(w)||l(w)?(x=_,l(_)?x=h(_):(!m(_)||r&&p(_))&&(x=u(w))):k=!1}k&&($.set(w,x),b(x,w,r,y,$),$.delete(w)),o(e,n,x)}var o=n(306),a=n(235),i=n(258),s=n(236),u=n(259),l=n(91),c=n(94),f=n(271),d=n(95),p=n(64),m=n(71),v=n(308),g=n(98),h=n(309);e.exports=r},function(e,t,n){function r(e){if(!i(e)||o(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var o=n(65),a=n(243),i=n(93),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){function r(e){return o(e,a(e))}var o=n(58),a=n(88);e.exports=r},function(e,t){e.exports='<div class=feed-refresh-button> <button type=button ng-click="$ctrl.loadFeed({ after: $ctrl.feedItems[0]._id })" ng-disabled="$ctrl.loading || $ctrl.feedItems === null" class="btn btn-link"> <i class="fa fa-refresh fa-lg" ng-class="{ \'fa-spin\': $ctrl.loadingFeed }"></i> </button> </div> <div class=feed-wrapper> <feed-item ng-repeat="item in $ctrl.feedItems track by item._id" item=item in-view="$ctrl.onInView($inview, $index)" in-view-options="{ debounce: 100 }"></feed-item> <div class="feed-item feed-item-narrow text-center" ng-show="$ctrl.loading || $ctrl.feedItems === null"> <i class="fa fa-ellipsis-h fa-2x"></i> </div> <div class=feed-item ng-if="$ctrl.feedItems.length === 0"> No feed items to show. </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(312),a=r(o),i={bindings:{item:"<"},require:{feed:"^^"},template:a.default};t.default=i},function(e,t){e.exports='<div class="feed-item clearfix"> <div class=feed-item-type> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x text-muted"></i> <i class="fa fa-stack-1x fa-inverse" ng-class="{\n           \'fa-heart\': $ctrl.item.act,\n           \'fa-quote-right\': $ctrl.item.comment && $ctrl.item.target.deed,\n           \'fa-bullhorn\': $ctrl.item.comment && $ctrl.item.target.group\n         }"></i> </span> </div> <div class=feed-item-image> <img ng-src="{{ ::$ctrl.item.user.picture || $ctrl.feed.User.getDefaultUserImage($ctrl.item.user._id) }}" class=img-circle> </div> <div class=feed-item-content> <h6 class=m-t-none> <a ng-href="/u/{{ ::$ctrl.item.user._id }}" ng-if="$ctrl.feed.User.isLoggedInUser($ctrl.item.user) || $ctrl.feed.User.isMemberOfGroup($ctrl.item.group)"> {{ ::$ctrl.item.user.firstName }} </a> <span ng-if="!($ctrl.feed.User.isLoggedInUser($ctrl.item.user) || $ctrl.feed.User.isMemberOfGroup($ctrl.item.group))"> Someone </span> <span ng-if="::$ctrl.item.group && !$ctrl.item.target.group"> from <a ng-href="/g/{{ ::$ctrl.item.group.urlName }}">{{ ::$ctrl.item.group.name }}</a> </span> <span ng-if=::$ctrl.item.act>did the act of love</span> <span ng-if="::$ctrl.item.comment && $ctrl.item.target.deed">left a testimony on</span> <span ng-if="::$ctrl.item.comment && $ctrl.item.target.group">wrote a message to</span> <a ng-href="/d/{{ ::$ctrl.item.target.deed.urlTitle }}" ng-if=::$ctrl.item.target.deed>{{ ::$ctrl.item.target.deed.title }}</a> <a ng-href="/g/{{ ::$ctrl.item.target.group.urlName }}" ng-if=::$ctrl.item.target.group>{{ ::$ctrl.item.target.group.name }}</a> </h6> <div marked=::$ctrl.item.comment.content.text class=feed-item-comment ng-if=::$ctrl.item.comment.content.text></div> <p class="small m-b-none"> <a href> {{ ::$ctrl.item.created | fromNow }} </a> &middot; {{ ::$ctrl.item.created | moment:\'ddd, D MMM YYYY [at] HH:mm\' }} </p> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(314),s=r(i),u=n(317),l=r(u),c=n(319),f=r(c),d=a.default.module("deedList",[]).component("deedList",s.default).component("deedListVertical",l.default).component("deedListHorizontal",f.default).name;t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(315),a=r(o),i=n(316),s=r(i),u={bindings:{layout:"@"},controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,a){n(this,e),o(this,{$q:t,Deed:r,Act:a})}return e.$inject=["$q","Deed","Act"],a(e,[{key:"$onInit",value:function(){var e=this;this.loading=!0,this.$q.all([this.Deed.find({fields:"_id,logo,title,urlTitle"}),this.Deed.countAll()]).then(function(t){var n=r(t,1),o=n[0];return e.deeds=o}).catch(function(){return null}).then(function(){return e.loading=!1})}}]),e}();t.default=i},function(e,t){e.exports="<deed-list-vertical ng-if=\"$ctrl.layout === 'vertical'\"></deed-list-vertical> <deed-list-horizontal ng-if=\"$ctrl.layout === 'horizontal'\"></deed-list-horizontal> "},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(318),a=r(o),i={require:{deedList:"^^"},template:a.default};t.default=i},function(e,t){e.exports='<div class=container-pad-sm> <div class=deed-wrapper ng-class="{ \'deed-current\': deed._id === $ctrl.deedList.Deed.current._id }" ng-repeat="deed in $ctrl.deedList.deeds track by deed._id" ui-sref="deed({ deedSlug: deed.urlTitle })"> <div class=deed-image> <img ng-src="{{ ::deed.logo || \'/images/deed.png\' }}" class="img-responsive img-circle"> </div> <div class=deed-text> <span class=deed-title>{{ ::deed.title }}</span> <br> <span class=deed-count>{{ $ctrl.deedList.Act.counters[deed._id] | number }}</span> <span class=deed-subtext>Deeds Done</span> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(320),a=r(o),i={require:{deedList:"^^"},template:a.default};t.default=i},function(e,t){e.exports='<div class="container container-pad-sm"> <div class=row> <div class=col-xs-12 ng-if=!$ctrl.deedList.loading> <div class=deed-wrapper ng-repeat="deed in $ctrl.deedList.deeds track by deed._id" ui-sref="deed({ deedSlug: deed.urlTitle })"> <div class=deed-image> <img ng-src="{{ ::deed.logo || \'/images/deed.png\' }}" class="img-responsive img-circle"> <div class=deed-title-wrapper> <div class=deed-title>{{ ::deed.title }}</div> </div> </div> <div class="deed-text text-center"> <div class=deed-count>{{ $ctrl.deedList.Act.counters[deed._id] | number }}</div> <div class=deed-subtext>Deeds Done</div> </div> </div> </div> <loading-spinner size=4x ng-if=$ctrl.deedList.loading></loading-spinner> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(322),s=r(i),u=n(323),l=r(u),c=a.default.module("comment",[]).service("Comment",s.default).component("commentForm",l.default).name;t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e.data}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(107),l=r(u),c=function(){function e(t,n){o(this,e),i(this,{$http:t}),this.baseUrl=n.serverUrl}return e.$inject=["$http","config"],s(e,[{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$http.get(this.baseUrl+"/comments",{params:e}).then(a)}},{key:"save",value:function(e){var t=(0,l.default)(e,"_id")?"put":"post",n="/comments"+((0,l.default)(e,"_id")?"/"+e._id:"");return(0,l.default)(e.target,"deed")?n="/deeds/"+e.target.deed+n:(0,l.default)(e.target,"group")?n="/groups/"+e.target.group+n:(0,l.default)(e.target,"comment")?n="/comments/"+e.target.comment+n:(0,l.default)(e.target,"act")&&(n="/acts/"+e.target.acts+n),this.$http[t](""+this.baseUrl+n,e).then(a)}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(324),a=r(o),i=n(325),s=r(i),u={bindings:{deed:"<",group:"<",comment:"<",act:"<",placeholder:"@"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=function(){function e(t,n,r,i){o(this,e),a(this,{Alertify:t,User:n,Comment:r,Feed:i})}return e.$inject=["Alertify","User","Comment","Feed"],i(e,[{key:"$onChanges",value:function(e){e.deed&&(this.deed=u.default.copy(this.deed)),e.group&&(this.group=u.default.copy(this.group)),e.comment&&(this.comment=u.default.copy(this.comment)),e.act&&(this.act=u.default.copy(this.act))}},{key:"onContentChanged",value:function(e){var t=e.content;t&&(this.textContent=t)}},{key:"setGroupAndTarget",value:function(e){return e.group=this.User.group?this.User.group._id:null,this.deed?e.target={deed:this.deed._id}:this.group?e.target={group:this.group._id}:this.comment?e.target={comment:this.comment._id}:this.act&&(e.target={act:this.act._id}),e}},{key:"save",value:function(e){var t=this,n={content:{text:e}};n=this.setGroupAndTarget(n),this.saving=!0,this.Comment.save(n).then(function(){t.Alertify.success("Comment saved"),t.Feed.update(),t.textContent=""}).catch(function(){return t.Alertify.success("Failed saving comment")}).then(function(){return t.saving=!1})}}]),e}();t.default=l},function(e,t){e.exports='<form ng-submit=$ctrl.save($ctrl.textContent)> <div class=form-group> <medium-editor content=$ctrl.textContent on-content-changed=$ctrl.onContentChanged($event) placeholder="{{ ::$ctrl.placeholder }}"></medium-editor> <button type=submit class="btn btn-primary m-t-xs" ng-disabled="!$ctrl.textContent || $ctrl.saving"> <i class="fa fa-fw fa-cog fa-spin" ng-show=$ctrl.saving></i> Save </button> </div> </form> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(327),s=r(i),u=n(330),l=r(u),c=n(333),f=r(c),d=a.default.module("home",[]).component("home",s.default).component("welcome",l.default).component("homeFeed",f.default).config(["$stateProvider",function(e){"ngInject";e.state("home",{url:"/",component:"home"})}]).name;t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(328),a=r(o),i=n(329),s=r(i),u={controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,o,a){n(this,e),r(this,{$rootScope:t,User:o,Modal:a})}return e.$inject=["$rootScope","User","Modal"],o(e,[{key:"$onInit",value:function(){this.$rootScope.title=null}}]),e}();t.default=a},function(e,t){e.exports='<jumbotron jumbo-background="\'/images/header-home.jpg\'" jumbo-classes=videotron> <jumbo-content class=Home__Header> <div class=text-center> <h1 class=m-none>Love is our Weapon</h1> <p class=m-t-none>Changing the world one deed at a time</p> </div> <div class="embed-responsive embed-responsive-16by9"> <youtube-video video-id="\'rzvGAGKw8sU\'" class=embed-responsive-item></youtube-video> </div> <div class="text-center m-t-md"> <button type=button class="btn btn-primary btn-lg" ng-click=$ctrl.Modal.openGroupEdit()> Start a Campaign </button> </div> </jumbo-content> </jumbotron> <welcome ng-if=!$ctrl.User.isAuthenticated()></welcome> <home-feed ng-if=$ctrl.User.isAuthenticated()></home-feed> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(331),a=r(o),i=n(332),s=r(i),u={controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,o,a,i){n(this,e),r(this,{User:t,Group:o,Act:a,Modal:i})}return e.$inject=["User","Group","Act","Modal"],o(e,[{key:"$onInit",value:function(){var e=this;this.Group.find({count:!0}).then(function(t){return e.numberOfGroups=Number(t)}),this.User.find({count:!0}).then(function(t){return e.numberOfUsers=Number(t)})}}]),e}();t.default=a},function(e,t){e.exports='<div class=Home__SignupLogin> <div class="container container-pad-sm text-center"> <div class=row> <div class=col-xs-12> <h3 class=m-t-none>Start changing your world today!</h3> <p>Sign up or login to join the Global Campaign or your local group campaign.</p> <p> <br> <button type=button class="btn btn-primary" ng-click=$ctrl.Modal.openSignup()> Sign up </button> &nbsp;&nbsp; or &nbsp;&nbsp; <button type=button class="btn btn-default" ng-click=$ctrl.Modal.openLogin()> Login </button> </p> </div> </div> </div> </div> <deed-list layout=horizontal></deed-list> <div class=Home__Welcome> <div class="container container-pad"> <div class=row> <div class=col-sm-9> <h2> The Love is our Weapon Campaign is a youth movement that exists to change cities through the love of Jesus by doing strategic practical acts of love. </h2> <p> Thousands of people, doing thousands of acts of love, bringing change, value, healing and hope throughout cities and communities everywhere. </p> <p> <br><br><br> <button type=button class="btn btn-primary" ng-click=$ctrl.Modal.openGroupEdit()> Start a Campaign for your Group! </button> </p> </div> <div class=col-sm-3> <h1 class="text-primary m-b-none"> <span> {{ $ctrl.Act.counters.global | number }} <span ng-if=!$ctrl.Act.counters.global>&nbsp;</span> </span> </h1> <h4 class=m-none>acts of love</h4> <p class=m-t-none>done around the world</p> <h1 class="text-primary m-b-none"> <span> {{ $ctrl.numberOfGroups | number }} <span ng-if=!$ctrl.numberOfGroups>&nbsp;</span> </span> </h1> <h4 class=m-none>groups</h4> <p class=m-t-none>serving together</p> <h1 class="text-primary m-b-none"> <span> {{ $ctrl.numberOfUsers | number }} <span ng-if=!$ctrl.numberOfUsers>&nbsp;</span> </span> </h1> <h4 class=m-none>individuals</h4> <p class=m-t-none>causing change</p> </div> </div> </div> </div> <div class=Home__HowTo> <div class=container> <div class=row> <div class=col-xs-12> <h2 class=text-center> Running a campaign is as easy as 1, 2, 3. </h2> <img src=/images/welcome-laptop.png> <ol> <li> Sign up<br> <small> All you have to do is enter your details and login to join a campaign! </small> </li> <li>Join or Start a Campaign</li> <li>Start changing your world!</li> </ol> </div> </div> </div> </div> <div class=Home__Spacer></div> <div class=Home__Footer> <div class="container container-pad text-center"> <div class=row> <div class=col-xs-12> <h1>Love is our Weapon</h1> <p> <br><br><br> <button type=button class="btn btn-primary" ng-click=$ctrl.Modal.openGroupEdit()> Start a Campaign </button> </p> </div> </div> </div> </div> ';
},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(334),a=r(o),i=n(335),s=r(i),u={controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(178),u=r(s),l=n(191),c=r(l),f=function(){function e(t,n,r){o(this,e),a(this,{User:t,Act:n,Feed:r})}return e.$inject=["User","Act","Feed"],i(e,[{key:"$onInit",value:function(){var e=this;this.User.isAuthenticated()&&this.User.current&&(this.Feed.update({refresh:!0}),this.countAllGroupActs(this.User.current.groups)),this.loginOff=this.User.on("login",function(t){e.Feed.update({refresh:!0}),e.countAllGroupActs(t.groups)}),this.logoutOff=this.User.on("logout",function(){return e.Feed.update({clear:!0})})}},{key:"$onDestroy",value:function(){this.loginOff(),this.logoutOff()}},{key:"listGroupIds",value:function(e){return e&&e.length?(0,c.default)(e,"_id").join(","):null}},{key:"countAllGroupActs",value:function(e){var t=this;(0,u.default)(e,function(e){return t.Act.count({group:e._id})})}}]),e}();t.default=f},function(e,t){e.exports='<div class="container container-pad"> <div class=row> <div class="col-sm-4 col-sm-push-8 m-b-lg"> <h3 class="m-t-none m-b-md"> <i class="fa fa-users"></i> Groups </h3> <div class="list-group group-list"> <a ng-href="/g/{{ ::group.urlName }}" class="list-group-item clearfix" ng-repeat="group in $ctrl.User.current.groups track by group._id"> <div class=group-list-img> <img ng-src="{{ ::group.logo || \'/images/group.png\' }}" class=img-circle> </div> <div class=group-list-content> <h4 class=m-none>{{ ::group.name }}</h4> <p class=m-b-none> <span class=f-lg> {{ $ctrl.Act.counters[group._id] | number }} </span> acts of love </p> </div> </a> </div> </div> <div class="col-sm-8 col-sm-pull-4"> <h3 class="m-t-none m-b-md"> <i class="fa fa-fw fa-list"></i> Activity Feed </h3> <feed criteria="{\n            user: $ctrl.User.current._id,\n            group: $ctrl.listGroupIds($ctrl.User.current.groups)\n          }"></feed> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(337),s=r(i),u=n(340),l=r(u),c=n(344),f=r(c),d=n(348),p=r(d),m=n(352),v=r(m),g=n(356),h=r(g),b=n(360),y=r(b),$=n(364),_=r($),w=a.default.module("controlPanel",[l.default,f.default,p.default,v.default,h.default,y.default,_.default]).component("controlPanel",s.default).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";e.state("controlPanel",{url:"/control-panel",component:"controlPanel",abstract:!0}),t.when("/control-panel","/control-panel/user")}]).name;t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(338),a=r(o),i=n(339),s=r(i),u={controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=["deeds","users","groups"],i=function(){function e(t,o){n(this,e),r(this,{$state:t,User:o})}return e.$inject=["$state","User"],o(e,[{key:"$onInit",value:function(){var e=this;(!this.User.isAuthenticated()||this.User.current&&!this.hasAccess())&&this.$state.go("home"),this.loginOff=this.User.on("login",function(){e.hasAccess()||e.$state.go("home")}),this.logoutOff=this.User.on("logout",function(){return e.$state.go("home")})}},{key:"$onDestroy",value:function(){this.loginOff(),this.logoutOff()}},{key:"hasAccess",value:function(){return a.indexOf(this.view)===-1||this.User.isSuperAdmin()}}]),e}();t.default=i},function(e,t){e.exports='<div class="container container-pad control-panel"> <div class=row> <div class=col-xs-12> <h3 class=m-b-lg> <i class="fa fa-fw fa-cogs"></i> Control Panel <small>&raquo; {{ $ctrl.$state.current.name.split(\'.\') | last | capitalize }}</small> </h3> </div> </div> <div class=row> <div class=col-sm-3> <div class=list-group> <a class=list-group-item ui-sref=controlPanel.user ui-sref-active=active> User </a> </div> <div ng-if=$ctrl.User.current.groups.length> <h4>Your Groups</h4> <div class=list-group> <a class=list-group-item ng-repeat="group in $ctrl.User.current.groups track by group._id" ui-sref="controlPanel.group({ groupId: group._id })" ui-sref-active=active> {{ group.name }} </a> </div> </div> <div ng-if=$ctrl.User.isSuperAdmin()> <h4>Admin</h4> <div class=list-group> <a class=list-group-item ui-sref=controlPanel.deeds ui-sref-active=active> Deeds </a> <a class=list-group-item ui-sref=controlPanel.users ui-sref-active=active> Users </a> <a class=list-group-item ui-sref=controlPanel.groups ui-sref-active=active> Groups </a> </div> </div> </div> <div class=col-sm-9> <div ui-view=section></div> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(341),s=r(i),u=a.default.module("controlPanelSearch",[]).component("controlPanelSearch",s.default).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),a=r(o),i=n(343),s=r(i),u={bindings:{query:"<",onSearch:"&"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(289),u=r(s),l=function(){function e(t){o(this,e),a(this,{$element:t})}return e.$inject=["$element"],i(e,[{key:"$postLink",value:function(){(0,u.default)(this.$element).hasAttribute("autofocus")&&(0,u.default)(this.$element.find("input")).focus()}}]),e}();t.default=l},function(e,t){e.exports='<div class="input-group m-b-md"> <span class=input-group-addon> <i class="fa fa-search"></i> </span> <input type=text class=form-control placeholder=Search... ng-model=$ctrl.query ng-model-options="{ debounce: 500 }" ng-change="$ctrl.onSearch({ $event: { query: $ctrl.query } })"> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(345),s=r(i),u=a.default.module("userControlPanel",[]).component("userControlPanel",s.default).config(["$stateProvider",function(e){"ngInject";e.state("controlPanel.user",{url:"/user",views:{section:{component:"userControlPanel"}},resolve:{user:["User",function(e){return e.loadCurrent()}]}})}]).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(346),a=r(o),i=n(347),s=r(i),u={bindings:{user:"<",title:"<browserTitle"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=n(160),c=r(l),f=function(){function e(t,n,r,i,s){o(this,e),a(this,{$rootScope:t,Alertify:n,User:r,Act:i,Modal:s})}return e.$inject=["$rootScope","Alertify","User","Act","Modal"],i(e,[{key:"$onInit",value:function(){this.$rootScope.title=(this.title||this.user.name)+" | Control Panel",this.Act.count({user:this.user._id})}},{key:"$onChanges",value:function(e){e.user&&(this.user=u.default.copy(this.user))}},{key:"toggleEditName",value:function(e){this.editingName=!this.editingName,this.editingName?this.observer=c.default.observe(e):c.default.unobserve(e,this.observer)}},{key:"saveName",value:function(e){var t=this;this.User.update(e,c.default.generate(this.observer)).then(function(e){t.user=u.default.copy(e),t.Alertify.success("Updated name")}).catch(function(){return t.Alertify.error("Failed updating name")}).then(function(){return t.toggleEditName(e)})}},{key:"sendConfirmEmail",value:function(e){var t=this;this.sending=!0,this.User.sendConfirmEmail(e).then(function(){return t.Alertify.success("Sent confirmation email to <strong>"+e+"</strong>")}).catch(function(){return t.Alertify.error("Failed sending confirmation email")}).then(function(){return t.sending=!1})}}]),e}();t.default=f},function(e,t){e.exports='<div class=row> <div class="col-sm-3 col-sm-push-9"> <img ng-src="{{ ::$ctrl.user.picture || $ctrl.User.getDefaultUserImage($ctrl.user._id) }}" class="profile img-responsive img-circle"> </div> <div class="col-sm-9 col-sm-pull-3"> <table class="table table-bordered table-striped"> <tbody> <tr> <th>Email</th> <td>{{ ::$ctrl.user.email }}</td> </tr> <tr> <th>Name</th> <td> <div ng-if=!$ctrl.editingName> <a ng-click=$ctrl.toggleEditName($ctrl.user) class=pull-right href> <i class="fa fa-fw fa-pencil"></i> </a> {{ $ctrl.user.name }} </div> <div ng-if=$ctrl.editingName> <a ng-click=$ctrl.toggleEditName($ctrl.user) class=pull-right href> <i class="fa fa-fw fa-times"></i> </a> <form name=userNameEdit class=form-inline ng-submit="$ctrl.form.$valid && $ctrl.saveName($ctrl.user)" novalidate> <span ng-init="$ctrl.form = userNameEdit"></span> <div class=form-group ng-class="{ \'has-error\': $ctrl.form.$submitted && $ctrl.form.firstName.$invalid }"> <label class=sr-only for=firstName>First name</label> <input type=text class=form-control id=firstName name=firstName placeholder=First... ng-model=$ctrl.user.firstName required> </div> <div class=form-group> <label class=sr-only for=lastName>Last name</label> <input type=text class=form-control id=lastName name=lastName placeholder=Last... ng-model=$ctrl.user.lastName> </div> <button type=submit class="btn btn-success"> <i class="fa fa-check"></i> </button> </form> </div> </td> </tr> <tr> <th>Password</th> <td> <a ng-click=$ctrl.Modal.openChangePassword($ctrl.user) href> Change password </a> <a ng-click=$ctrl.Modal.openChangePassword($ctrl.user) class=pull-right href> <i class="fa fa-fw fa-pencil"></i> </a> </td> </tr> <tr> <th>Joined</th> <td>{{ ::$ctrl.user.created | moment:\'LL\' }}</td> </tr> <tr> <th>Acts of Love</th> <td>{{ $ctrl.Act.counters[$ctrl.user._id] | number }}</td> </tr> <tr> <th>Confirmed</th> <td> <icon-checked value=::$ctrl.user.confirmed></icon-checked> <span ng-if="$ctrl.user && !$ctrl.user.confirmed" class=m-l-xs> <a ng-click=$ctrl.sendConfirmEmail($ctrl.user.email) href> Re-send confirmation email? <i ng-show=$ctrl.sending class="fa fa-cog fa-spin"></i> </a> </span> </td> </tr> <tr ng-if=::$ctrl.user.superAdmin> <th>Super Admin</th> <td> <icon-checked value=::$ctrl.user.superAdmin></icon-checked> </td> </tr> </tbody> </table> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(349),s=r(i),u=a.default.module("groupControlPanel",[]).component("groupControlPanel",s.default).config(["$stateProvider",function(e){"ngInject";var t=20;e.state("controlPanel.group",{url:"/group/:groupId",views:{section:{component:"groupControlPanel"}},resolve:{group:["$stateParams","Group",function(e,t){return t.findOne({_id:e.groupId})}],numberOfMembers:["User","group",function(e,t){return e.find({count:!0,groups:t._id})}]}}).state("controlPanel.group.users",{url:"/users?query&page",views:{tab:{component:"usersControlPanel"}},resolve:{browserTitle:["group",function(e){return"Users | "+e.name}],query:["$stateParams",function(e){return e.query}],page:["$stateParams",function(e){return e.page||1}],pageSize:function(){return t},users:["User","group","query","page",function(e,n,r,o){return e.find({groups:n._id,limit:t,query:r,skip:(o-1)*t,sort:"-_id"})}],numberOfUsers:["User","group","query","page",function(e,n,r,o){return e.find({count:!0,groups:n._id,limit:t,query:r,skip:(o-1)*t,sort:"-_id"})}]}}).state("controlPanel.group.testimonies",{url:"/testimonies?page",views:{tab:{component:"commentsControlPanel"}},resolve:{browserTitle:["group",function(e){return"Testimonies | "+e.name}],page:["$stateParams",function(e){return e.page||1}],pageSize:function(){return t},comments:["Comment","group","page",function(e,n,r){return e.find({group:n._id,"target.group":"null",limit:t,skip:(r-1)*t,sort:"-_id"})}],numberOfComments:["Comment","group","page",function(e,n,r){return e.find({count:!0,group:n._id,"target.group":"null",limit:t,skip:(r-1)*t,sort:"-_id"})}]}})}]).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(350),a=r(o),i=n(351),s=r(i),u={bindings:{group:"<",numberOfMembers:"<",title:"<browserTitle"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(160),f=r(c),d=function(){function e(t,n,r,a,s,u,l,c){o(this,e),i(this,{$rootScope:t,$state:n,$q:r,Alertify:a,User:s,Group:u,Act:l,Modal:c})}return e.$inject=["$rootScope","$state","$q","Alertify","User","Group","Act","Modal"],s(e,[{key:"$onInit",value:function(){return this.User.isMemberOfGroup(this.group)||this.User.isSuperAdmin()?(this.Act.count({group:this.group._id}),void(this.$rootScope.title=(this.title||this.group.name)+" | Control Panel")):this.$state.go("controlPanel.user")}},{key:"$onChanges",value:function(e){e.group&&(this.group=l.default.copy(this.group))}},{key:"updateGroup",value:function(e){var t=this;this.Modal.openGroupEdit("update",e).then(function(e){return t.group=e}).catch(function(){return null})}},{key:"leaveGroup",value:function(e,t){var n=this;if(t.owner===e._id)return this.Modal.openAlert("\n        You are the current owner of **"+t.name+"**.\n        \n        You'll need to make someone else the owner before leaving.\n      ","Leave Group");if(this.Group.isAdmin(t,e))return this.Modal.openAlert("\n        You are currently an admin of **"+t.name+"**.\n        \n        You'll need to remove yourself as an admin before leaving.\n      ","Leave Group");var r=function(){var r=Symbol("cancelConfirm");return{v:n.Modal.openConfirm("Are you sure you want to leave **"+t.name+"**?","Leave Group").catch(function(){return n.$q.reject(r)}).then(function(){var r=f.default.observe(e);return e.groups.splice(e.groups.indexOf(t._id)),n.User.update(e,f.default.generate(r))}).then(function(){n.Alertify.success("Left group <strong>"+t.name+"</strong>"),n.$state.go("controlPanel.user")}).catch(function(n){return n!==r&&e.groups.push(t)})}}();return"object"===("undefined"==typeof r?"undefined":a(r))?r.v:void 0}}]),e}();t.default=d},function(e,t){e.exports='<ul class="nav nav-pills" role=tablist> <li ui-sref=controlPanel.group ui-sref-active-eq=active role=presentation> <a href> <i class="fa fa-fw fa-users"></i> Overview </a> </li> <li ui-sref=controlPanel.group.users ui-sref-active=active ng-if="$ctrl.Group.isAdmin($ctrl.group, $ctrl.User.current) || $ctrl.User.isSuperAdmin()" role=presentation> <a href> <i class="fa fa-fw fa-user"></i> Users </a> </li> <li ui-sref=controlPanel.group.testimonies ui-sref-active=active ng-if="$ctrl.Group.isAdmin($ctrl.group, $ctrl.User.current) || $ctrl.User.isSuperAdmin()" role=presentation> <a href> <i class="fa fa-fw fa-comment"></i> Testimonies </a> </li> </ul> <div ui-view=tab> <div class=row> <div class="col-sm-3 col-sm-push-9 m-b-md"> <img ng-src=/images/group.png class="profile img-responsive img-circle"> <button type=button class="btn btn-default btn-block" ng-click=$ctrl.updateGroup($ctrl.group) ng-if="$ctrl.Group.isAdmin($ctrl.group, $ctrl.User.current)"> <i class="fa fa-fw fa-edit"></i> Update </button> <button type=button class="btn btn-default btn-block" ng-click="$ctrl.leaveGroup($ctrl.User.current, $ctrl.group)" ng-if=$ctrl.User.isMemberOfGroup($ctrl.group)> <i class="fa fa-fw fa-sign-out"></i> Leave </button> </div> <div class="col-sm-9 col-sm-pull-3"> <table class="table table-bordered table-striped"> <tbody> <tr> <th>Name</th> <td>{{ ::$ctrl.group.name }}</td> </tr> <tr> <th>Created</th> <td>{{ ::$ctrl.group.created | moment:\'LL\' }}</td> </tr> <tr> <th>Members</th> <td>{{ ::$ctrl.numberOfMembers | number }}</td> </tr> <tr> <th>Acts of Love</th> <td>{{ ::$ctrl.Act.counters[$ctrl.group._id] | number }}</td> </tr> <tr> <th>Welcome Message</th> <td marked=::$ctrl.group.welcomeMessage></td> </tr> </tbody> </table> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(353),s=r(i),u=a.default.module("deedsControlPanel",[]).component("deedsControlPanel",s.default).config(["$stateProvider",function(e){"ngInject";e.state("controlPanel.deeds",{url:"/deeds",views:{section:{component:"deedsControlPanel"}},resolve:{deeds:["Deed",function(e){return e.find()}]}})}]).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(354),a=r(o),i=n(355),s=r(i),u={bindings:{deeds:"<",title:"<browserTitle"},controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,o){n(this,e),r(this,{$rootScope:t,Modal:o})}return e.$inject=["$rootScope","Modal"],o(e,[{key:"$onInit",value:function(){this.$rootScope.title=(this.title||"Deeds")+" | Control Panel"}},{key:"$onChanges",value:function(e){e.deeds&&(this.deeds=angular.copy(this.deeds))}}]),e}();t.default=a},function(e,t){e.exports='<div class=row> <div class=col-xs-12> <table class="table table-bordered table-striped"> <thead> <tr> <th style=width:65px>Logo</th> <th>Title</th> <th style=width:150px>Video</th> <th style=width:102px>&nbsp;</th> </tr> </thead> <tbody> <tr ng-repeat="deed in ::$ctrl.deeds track by deed._id"> <td class=text-center> <img ng-src="{{ ::deed.logo || \'/images/deed.png\' }}" class="img-circle icon"> </td> <td>{{ ::deed.title }}</td> <td> <div ng-if=::deed.videoUrl> <a ng-href="{{ ::deed.videoUrl }}" target=_blank> <i class="fa fa-lg fa-youtube-play"></i> {{ ::deed.videoUrl.split(\'/\') | last }} </a> </div> <div ng-if=::!deed.videoUrl class=text-center> <i class="fa fa-lg fa-times-circle text-muted"></i> </div> </td> <td> <div class=btn-group uib-dropdown> <button type=button class="btn btn-default" uib-dropdown-toggle> Actions <span class=caret></span> </button> <ul class=dropdown-menu-right uib-dropdown-menu> <li> <a ng-click=$ctrl.Modal.openDeedPreview(deed._id) href> <i class="fa fa-fw fa-external-link-square"></i> Open Preview </a> </li> <li> <a ng-href="/d/{{ ::deed.urlTitle }}"> <i class="fa fa-fw fa-heart"></i> View Public Page </a> </li> </ul> </div> </td> </tr> </tbody> </table> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(357),s=r(i),u=a.default.module("usersControlPanel",[]).component("usersControlPanel",s.default).config(["$stateProvider",function(e){"ngInject";var t=20;e.state("controlPanel.users",{url:"/users?query&page",views:{section:{component:"usersControlPanel"}},resolve:{query:["$stateParams",function(e){return e.query}],page:["$stateParams",function(e){return e.page||1}],pageSize:function(){return t},users:["User","query","page",function(e,n,r){return e.find({limit:t,query:n,skip:(r-1)*t,sort:"-_id"})}],numberOfUsers:["User","query","page",function(e,n,r){return e.find({count:!0,limit:t,query:n,skip:(r-1)*t,sort:"-_id"})}]}})}]).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(358),a=r(o),i=n(359),s=r(i),u={bindings:{users:"<",numberOfUsers:"<",group:"<",query:"<",page:"<",pageSize:"<",title:"<browserTitle"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=function(){function e(t,n,r,i){o(this,e),a(this,{$rootScope:t,$state:n,User:r,Group:i})}return e.$inject=["$rootScope","$state","User","Group"],i(e,[{key:"$onInit",value:function(){this.$rootScope.title=(this.title||"Users")+" | Control Panel"}},{key:"$onChanges",value:function(e){e.users&&(this.users=u.default.copy(this.users))}},{key:"onSearch",value:function(e){this.$state.go(".",{query:e.query,page:1})}},{key:"onPaginationChange",value:function(e){this.$state.go(".",{page:e})}}]),e}();t.default=l},function(e,t){e.exports='<div class=row> <div class=col-xs-12> <control-panel-search query=$ctrl.query on-search=$ctrl.onSearch($event) autofocus></control-panel-search> <p> Number of users: <strong>{{ $ctrl.numberOfUsers }}</strong>, showing: <strong>{{ (($ctrl.page - 1) * $ctrl.pageSize) + 1 }}</strong> to <strong>{{ $ctrl.page == $ctrl.numberOfPages ? $ctrl.numberOfUsers : $ctrl.page * $ctrl.pageSize }}</strong> </p> <ul uib-pagination total-items=$ctrl.numberOfUsers items-per-page=$ctrl.pageSize ng-model=$ctrl.page ng-change=$ctrl.onPaginationChange($ctrl.page) num-pages=$ctrl.numberOfPages boundary-link-numbers=true max-size=5 previous-text=&laquo; next-text=&raquo; class="m-none pagination-sm"></ul> <div class=table-responsive> <table class="table table-bordered table-striped"> <thead> <tr> <th style=width:65px>Picture</th> <th>Email</th> <th>Name</th> <th>Joined</th> <th>Last Seen</th> <th>Confirmed</th> <th ng-if=$ctrl.$state.params.groupId>Admin</th> <th ng-if=$ctrl.User.isSuperAdmin()>Super Admin</th> </tr> </thead> <tbody> <tr ng-repeat="user in $ctrl.users track by user._id"> <td class=text-center> <img ng-src="{{ ::user.picture || $ctrl.User.getDefaultUserImage(user._id) }}" class="img-circle icon"> </td> <td>{{ ::user.email }}</td> <td>{{ ::user.name }}</td> <td>{{ ::user.created | moment }}</td> <td>{{ ::user.lastSeen | moment }}</td> <td class=text-center> <icon-checked value=::user.confirmed></icon-checked> </td> <td ng-if=$ctrl.$state.params.groupId class=text-center> <icon-checked value="$ctrl.Group.isAdmin($ctrl.group, user)"></icon-checked> </td> <td ng-if=$ctrl.User.isSuperAdmin() class=text-center> <icon-checked value=::user.superAdmin></icon-checked> </td> </tr> </tbody> </table> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(361),s=r(i),u=a.default.module("groupsControlPanel",[]).component("groupsControlPanel",s.default).config(["$stateProvider",function(e){"ngInject";var t=20;e.state("controlPanel.groups",{url:"/groups?query&page",views:{section:{component:"groupsControlPanel"}},resolve:{query:["$stateParams",function(e){return e.query}],page:["$stateParams",function(e){return e.page||1}],pageSize:function(){return t},groups:["Group","query","page",function(e,n,r){return e.find({limit:t,query:n,skip:(r-1)*t,sort:"-_id"})}],numberOfGroups:["Group","query","page",function(e,n,r){return e.find({count:!0,limit:t,query:n,skip:(r-1)*t,sort:"-_id"})}]}})}]).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(362),a=r(o),i=n(363),s=r(i),u={bindings:{groups:"<",numberOfGroups:"<",query:"<",page:"<",pageSize:"<",title:"<browserTitle"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=function(){function e(t,n,r){o(this,e),a(this,{$rootScope:t,$state:n,Modal:r})}return e.$inject=["$rootScope","$state","Modal"],i(e,[{key:"$onInit",value:function(){this.$rootScope.title=(this.title||"Groups")+" | Control Panel"}},{key:"$onChanges",value:function(e){e.groups&&(this.groups=u.default.copy(this.groups))}},{key:"onSearch",value:function(e){this.$state.go(".",{query:e.query,page:1})}},{key:"onPaginationChange",value:function(e){this.$state.go(".",{page:e})}}]),e}();t.default=l},function(e,t){e.exports='<div class=row> <div class=col-xs-12> <control-panel-search query=$ctrl.query on-search=$ctrl.onSearch($event) autofocus></control-panel-search> <p> Number of groups: <strong>{{ $ctrl.numberOfGroups }}</strong>, showing: <strong>{{ (($ctrl.page - 1) * $ctrl.pageSize) + 1 }}</strong> to <strong>{{ $ctrl.page == $ctrl.numberOfPages ? $ctrl.numberOfGroups : $ctrl.page * $ctrl.pageSize }}</strong> </p> <ul uib-pagination total-items=$ctrl.numberOfGroups items-per-page=$ctrl.pageSize ng-model=$ctrl.page ng-change=$ctrl.onPaginationChange($ctrl.page) num-pages=$ctrl.numberOfPages boundary-link-numbers=true max-size=5 previous-text=&laquo; next-text=&raquo; class="m-none pagination-sm"></ul> <table class="table table-bordered table-striped"> <thead> <tr> <th style=width:65px>Logo</th> <th>Name</th> <th style=width:90px>Created</th> <th style=width:102px>&nbsp;</th> </tr> </thead> <tbody> <tr ng-repeat="group in $ctrl.groups track by group._id"> <td class=text-center> <img ng-src=/images/group.png class="img-circle icon"> </td> <td>{{ ::group.name }}</td> <td>{{ ::group.created | moment }}</td> <td> <div class=btn-group uib-dropdown> <button type=button class="btn btn-default" uib-dropdown-toggle> Actions <span class=caret></span> </button> <ul class=dropdown-menu-right uib-dropdown-menu> <li ng-if=group.welcomeMessage> <a ng-click="$ctrl.Modal.openAlert(group.welcomeMessage, group.name + \' Welcome Message\', \'md\')" href> <i class="fa fa-fw fa-commenting"></i> Welcome Message </a> </li> <li> <a ng-href="/g/{{ ::group.urlName }}"> <i class="fa fa-fw fa-users"></i> View Public Page </a> </li> <li> <a ui-sref="controlPanel.group({ groupId: group._id })"> <i class="fa fa-fw fa-cogs"></i> View Admin Page </a> </li> </ul> </div> </td> </tr> </tbody> </table> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(365),s=r(i),u=a.default.module("commentsControlPanel",[]).component("commentsControlPanel",s.default).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(366),a=r(o),i=n(367),s=r(i),u={bindings:{comments:"<",numberOfComments:"<",page:"<",pageSize:"<",title:"<browserTitle"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=function(){function e(t,n,r){o(this,e),a(this,{$rootScope:t,$state:n,User:r})}return e.$inject=["$rootScope","$state","User"],i(e,[{key:"$onInit",value:function(){this.$rootScope.title=(this.title||"Comments")+" | Control Panel"}},{key:"$onChanges",value:function(e){e.comments&&(this.comments=u.default.copy(this.comments))}},{key:"onPaginationChange",value:function(e){this.$state.go(".",{page:e})}}]),e}();t.default=l},function(e,t){e.exports='<div class=row> <div class=col-xs-12> <p> Number of comments: <strong>{{ $ctrl.numberOfComments }}</strong>, showing: <strong>{{ (($ctrl.page - 1) * $ctrl.pageSize) + 1 }}</strong> to <strong>{{ $ctrl.page == $ctrl.numberOfPages ? $ctrl.numberOfComments : $ctrl.page * $ctrl.pageSize }}</strong> </p> <ul uib-pagination total-items=$ctrl.numberOfComments items-per-page=$ctrl.pageSize ng-model=$ctrl.page ng-change=$ctrl.onPaginationChange($ctrl.page) num-pages=$ctrl.numberOfPages boundary-link-numbers=true max-size=5 previous-text=&laquo; next-text=&raquo; class="m-none pagination-sm"></ul> <table class="table table-bordered table-striped"> <thead> <tr> <th style=width:190px>User</th> <th style=width:190px>Deed</th> <th>Content</th> <th>Date</th> </tr> </thead> <tbody> <tr ng-repeat="comment in $ctrl.comments track by comment._id"> <td> <div class=media> <div class=media-left> <img ng-src="{{ ::comment.user.picture || $ctrl.User.getDefaultUserImage(comment.user._id) }}" class="media-object img-circle icon"> </div> <div class="media-body media-middle"> {{ ::comment.user.name }} </div> </div> </td> <td> <div class=media> <div class=media-left> <img ng-src="{{ ::comment.target.deed.logo }}" class="media-object img-circle icon"> </div> <div class="media-body media-middle"> {{ ::comment.target.deed.title }} </div> </div> </td> <td marked=::comment.content.text></td> <td>{{ ::comment.created | moment }}</td> </tr> </tbody> </table> </div> </div> ';
},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(369),s=r(i),u=a.default.module("globalFeed",[]).component("globalFeed",s.default).config(["$stateProvider",function(e){"ngInject";e.state("globalFeed",{url:"/global",component:"globalFeed"})}]).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(370),a=r(o),i=n(371),s=r(i),u={controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,o){n(this,e),r(this,{$rootScope:t,Feed:o})}return e.$inject=["$rootScope","Feed"],o(e,[{key:"$onInit",value:function(){this.$rootScope.title="Global Activity Feed",this.Feed.update({refresh:!0})}}]),e}();t.default=a},function(e,t){e.exports='<jumbotron jumbo-background="\'/images/header.jpg\'"></jumbotron> <div class="container container-pad"> <div class=row> <div class=col-xs-12> <h3 class="m-t-none m-b-md"> <i class="fa fa-fw fa-list"></i> Global Activity Feed </h3> <feed criteria="{ \'target.group\': \'null\' }"></feed> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(373),s=r(i),u=n(374),l=r(u),c=a.default.module("deed",[]).service("Deed",s.default).component("deed",l.default).config(["$stateProvider",function(e){"ngInject";e.state("deed",{url:"/d/:deedSlug",component:"deed",resolve:{deed:["$stateParams","Deed",function(e,t){return t.findOne({urlTitle:e.deedSlug})}]}})}]).name;t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e.data}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(304),f=r(c),d=n(289),p=r(d),m=n(178),v=r(m),g=null,h=function(){function e(t,n,r,a){o(this,e),i(this,{$http:t,$q:n,Act:a}),this.baseUrl=r.serverUrl+"/deeds"}return e.$inject=["$http","$q","config","Act"],s(e,[{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$http.get(this.baseUrl,{params:e}).then(a)}},{key:"findOne",value:function(e){var t=this;return this.find(e).then(function(e){return 1===e.length?(0,p.default)(e):t.$q.reject("Deed not found")})}},{key:"search",value:function(e,t){return t=(0,f.default)({query:e},t),this.find(t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$http.get(this.baseUrl+"/"+e,{params:t}).then(a)}},{key:"countAll",value:function(){var e=this;return this.$http.get(this.baseUrl+"/counters").then(a).then(function(t){return(0,v.default)(t,function(t){return e.Act.counters[t.deed]=t.count})})}},{key:"current",set:function(e){g=l.default.copy(e)},get:function(){return g}}]),e}();t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(375),a=r(o),i=n(376),s=r(i),u={bindings:{deed:"<"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=function(){function e(t,n,r,i,s,u,l,c){o(this,e),a(this,{$rootScope:t,Alertify:n,User:r,Group:i,Deed:s,Act:u,Feed:l,Modal:c})}return e.$inject=["$rootScope","Alertify","User","Group","Deed","Act","Feed","Modal"],i(e,[{key:"$onInit",value:function(){this.$rootScope.title=this.deed.title,this.Act.count({deed:this.deed._id}),this.Feed.update({refresh:!0})}},{key:"$onChanges",value:function(e){e.deed&&(this.deed=u.default.copy(this.deed),this.Deed.current=this.deed)}},{key:"done",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.doing=!0,this.Act.done(e,n).then(function(){t.Act.count(),t.Act.count({deed:e._id}),t.Feed.update(),t.Alertify.success("Deed done!")}).catch(function(){return t.Alertify.error("Failed registering deed")}).then(function(){return t.doing=!1})}}]),e}();t.default=l},function(e,t){e.exports='<jumbotron jumbo-classes=videotron> <jumbo-content> <div class="embed-responsive embed-responsive-16by9" ng-if=::$ctrl.deed.videoUrl> <youtube-video video-url=::$ctrl.deed.videoUrl class=embed-responsive-item></youtube-video> </div> <div class=deed-header> <img ng-src="{{ ::$ctrl.deed.logo || \'/images/deed.png\' }}" class="img-responsive img-circle pull-left m-t-md m-r-sm"> <h2 class="text-uppercase pull-left m-b-none"> {{ ::$ctrl.deed.title }} </h2> <h1 class="pull-right text-right m-b-none"> {{ $ctrl.Act.counters[$ctrl.deed._id] | number }} </h1> </div> </jumbo-content> </jumbotron> <div class="container container-pad"> <div class=row> <div class="col-sm-3 col-sm-push-9 m-b-sm"> <button type=button class="btn btn-primary btn-block btn-lg" ng-click="$ctrl.done($ctrl.deed, $ctrl.User.group)" ng-if=$ctrl.User.isAuthenticated() ng-disabled=$ctrl.doing> <img src=/images/logo-invert.png class="img-responsive img-btn" ng-hide=$ctrl.doing> <i class="fa fa-cog fa-lg fa-spin" ng-show=$ctrl.doing></i> Done </button> <button type=button class="btn btn-primary btn-block btn-lg" ng-click=$ctrl.Modal.openLogin() ng-if=!$ctrl.User.isAuthenticated()> <i class="fa fa-fw fa-user"></i> Login </button> <deed-list layout=vertical></deed-list> </div> <div class="col-sm-9 col-sm-pull-3"> <h2 class=m-t-none>Devotional</h2> <div marked=::$ctrl.deed.content class=m-b-md></div> <comment-form deed=::$ctrl.deed placeholder="Leave a testimony..." ng-if=$ctrl.User.isAuthenticated()></comment-form> <feed criteria="{ \'target.deed\': $ctrl.deed._id }"></feed> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(378),s=r(i),u=n(385),l=r(u),c=n(386),f=r(c),d=a.default.module("group",[]).service("Group",s.default).service("Campaign",l.default).component("group",f.default).config(["$stateProvider",function(e){"ngInject";e.state("group",{url:"/g/:groupSlug?setupCampaign",reloadOnSearch:!1,component:"group",resolve:{group:["$stateParams","Group",function(e,t){return t.findOne({urlName:e.groupSlug})}],setupCampaign:["$stateParams",function(e){return"true"===e.setupCampaign}]}})}]).name;t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e.data}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(107),f=r(c),d=n(379),p=r(d),m=n(304),v=r(m),g=n(289),h=r(g),b=null,y=function(){function e(t,n,r,a){o(this,e),i(this,{$http:t,$q:n,User:a}),this.baseUrl=r.serverUrl+"/groups"}return e.$inject=["$http","$q","config","User"],s(e,[{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$http.get(this.baseUrl,{params:e}).then(a)}},{key:"findOne",value:function(e){var t=this;return this.find(e).then(function(e){return 1===e.length?(0,h.default)(e):t.$q.reject("Group not found")})}},{key:"search",value:function(e,t){return t=(0,v.default)({query:e},t),this.find(t)}},{key:"save",value:function(e){return(0,f.default)(e,"_id")?this.$http.put(this.baseUrl+"/"+e._id,e).then(a):this.$http.post(this.baseUrl,e).then(a)}},{key:"isAdmin",value:function(e,t){return(0,f.default)(e,"admins")&&(0,f.default)(t,"_id")&&~e.admins.indexOf(t._id)}},{key:"current",set:function(e){b=l.default.copy(e),this.User.current&&(0,p.default)(this.User.current.groups,["id",e._id])&&(this.User.group=e)},get:function(){return b}}]),e}();t.default=y},function(e,t,n){var r=n(380),o=n(381),a=r(o);e.exports=a},function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!a(t)){var u=o(n,3);t=i(t),n=function(e){return u(s[e],e,s)}}var l=e(t,n,r);return l>-1?s[u?t[l]:l]:void 0}}var o=n(192),a=n(85),i=n(185);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var u=null==n?0:i(n);return u<0&&(u=s(r+u,0)),o(e,a(t,3),u)}var o=n(265),a=n(192),i=n(382),s=Math.max;e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t%1;return t===t?n?t-n:t:0}var o=n(383);e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=o(e),e===a||e===-a){var t=e<0?-1:1;return t*i}return e===e?e:0}var o=n(384),a=1/0,i=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(a(e))return i;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||c.test(e)?f(e.slice(2),n?2:8):u.test(e)?i:+e}var o=n(71),a=n(112),i=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e.data}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(107),l=r(u),c=n(289),f=r(c),d=function(){function e(t,n,r){o(this,e),i(this,{$http:t,$q:n}),this.baseUrl=r.serverUrl+"/campaigns"}return e.$inject=["$http","$q","config"],s(e,[{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$http.get(this.baseUrl,{params:e}).then(a)}},{key:"findOne",value:function(e){var t=this;return this.find(e).then(function(e){return 1===e.length?(0,f.default)(e):t.$q.reject("Campaign not found")})}},{key:"save",value:function(e){return(0,l.default)(e,"_id")?this.$http.put(this.baseUrl+"/"+e._id,e).then(a):this.$http.post(this.baseUrl,e).then(a)}},{key:"update",value:function(e,t){return this.$http.patch(this.baseUrl+"/"+e._id,t).then(a)}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(387),a=r(o),i=n(419),s=r(i),u={bindings:{group:"<",setupCampaign:"<"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(107),f=r(c),d=n(379),p=r(d),m=n(388),v=r(m),g=n(390),h=r(g),b=n(391),y=r(b),$=n(160),_=r($),w=6,j=function(){function e(t,n,r,a,s,u,l,c,f,d){o(this,e),i(this,{$rootScope:t,$state:n,$q:r,Alertify:a,User:s,Group:u,Campaign:l,Act:c,Feed:f,Modal:d})}return e.$inject=["$rootScope","$state","$q","Alertify","User","Group","Campaign","Act","Feed","Modal"],s(e,[{key:"$onInit",value:function(){var e=this;this.$rootScope.title=this.group.name,this.activeTab=0,this.campaign=null,this.User.isMemberOfGroup(this.group)&&(this.activeTab=1),this.Act.count({group:this.group._id}),this.loadCampaign(this.group),this.User.isAuthenticated()&&this.Feed.update({refresh:!0}),this.Group.current=this.group,this.jumbotronBackground="/images/header"+Math.floor((0,y.default)(this.group._id)()*w)+".jpg",this.loginOff=this.User.on("login",function(t){e.Feed.update({refresh:!0}),e.setCampaignAlert(e.campaign,e.Group.current,t),e.User.isMemberOfGroup(e.Group.current)&&(e.activeTab=1)}),this.logoutOff=this.User.on("logout",function(){e.Feed.update({clear:!0}),e.setCampaignAlert(e.campaign,e.Group.current,null),e.activeTab=0})}},{key:"$onChanges",value:function(e){e.group&&(this.group=l.default.copy(this.group))}},{key:"$onDestroy",value:function(){this.loginOff(),this.logoutOff()}},{key:"loadCampaign",value:function(e){var t=this;this.Campaign.findOne({group:e._id,active:!0}).catch(function(){return null}).then(function(e){t.campaign=e,t.campaign?(t.Act.count({campaign:t.campaign._id}),t.currentDeed=(0,v.default)(t.campaign.deeds,{published:!0}),t.$state.go(".",{setupCampaign:null})):t.setupCampaign&&t.editCampaign("create",t.Group.current).then(function(){return t.$state.go(".",{setupCampaign:null})}),t.setCampaignAlert(t.campaign,t.Group.current,t.User.current)})}},{key:"setCampaignAlert",value:function(e,t,n){this.showCampaignAlert=(0,h.default)(e)&&(0,f.default)(t,"admins")&&(0,f.default)(n,"_id")&&~t.admins.indexOf(n._id)}},{key:"editCampaign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",t=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.Modal.openCampaignEdit(e,n,r).then(function(){return t.loadCampaign(n)})}},{key:"finishCampaign",value:function(e){var t=this;this.Modal.openConfirm("Are you sure you want to finish this campaign?","Finish Campaign").then(function(){var n=_.default.observe(e);return e.active=!1,e.dateEnd=new Date,t.Campaign.update(e,_.default.generate(n))}).then(function(){t.Alertify.success("Finished campaign"),t.loadCampaign(t.Group.current)}).catch(function(){return e.active=!0})}},{key:"setPublished",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=_.default.observe(e),a=(0,p.default)(e.deeds,{deed:{_id:t._id}});a.published=r,this.Campaign.update(e,_.default.generate(o)).then(function(){return n.Alertify.success((r?"Published":"Unpublished")+" deed <strong>"+a.deed.title+"</strong>")}).then(function(){return n.loadCampaign(n.Group.current)}).catch(function(){return a.published=!r})}},{key:"joinGroup",value:function(e,t){var n=this,r=_.default.observe(e);e.groups.push(t._id),this.User.update(e,_.default.generate(r)).then(function(){return n.Alertify.success("Joined group <strong>"+t.name+"</strong>")}).then(function(){return n.User.group=t}).then(function(){return n.activeTab=1}).catch(function(){return e.groups.splice(e.groups.indexOf(groups._id))})}},{key:"leaveGroup",value:function(e,t){var n=this;if(t.owner===e._id)return this.Modal.openAlert("\n        You are the current owner of **"+t.name+"**.\n        \n        You'll need to make someone else the owner before leaving.\n      ","Leave Group");if(this.Group.isAdmin(t,e))return this.Modal.openAlert("\n        You are currently an admin of **"+t.name+"**.\n        \n        You'll need to remove yourself as an admin before leaving.\n      ","Leave Group");var r=function(){var r=Symbol("cancelConfirm");return{v:n.Modal.openConfirm("Are you sure you want to leave **"+t.name+"**?","Leave Group").catch(function(){return n.$q.reject(r)}).then(function(){var r=_.default.observe(e);return e.groups.splice(e.groups.indexOf(t._id)),n.User.update(e,_.default.generate(r))}).then(function(){return n.Alertify.success("Left group <strong>"+t.name+"</strong>")}).then(function(){return n.activeTab=0}).catch(function(n){return n!==r&&e.groups.push(t)})}}();return"object"===("undefined"==typeof r?"undefined":a(r))?r.v:void 0}}]),e}();t.default=j},function(e,t,n){var r=n(380),o=n(389),a=r(o);e.exports=a},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var l=r-1;return void 0!==n&&(l=i(n),l=n<0?s(r+l,0):u(l,r-1)),o(e,a(t,3),l,!0)}var o=n(265),a=n(192),i=n(382),s=Math.max,u=Math.min;e.exports=r},function(e,t){function n(e){return null===e}e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<jumbotron jumbo-image="\'/images/group.png\'" jumbo-background=::$ctrl.jumbotronBackground> <jumbo-title>{{ $ctrl.group.name }}</jumbo-title> <jumbo-text> <span class=f-lg> {{ $ctrl.Act.counters[$ctrl.group._id] | number }} </span> acts of love </jumbo-text> </jumbotron> <div class="container container-pad"> <div class=row> <div class="col-sm-4 col-md-3 col-sm-push-8 col-md-push-9 m-b-lg"> <div class="well well-sm" ng-if="$ctrl.User.isMemberOfGroup($ctrl.group) && $ctrl.campaign !== null"> <h5 class=text-center> Current Campaign <br> <small> <span class=f-lg> {{ $ctrl.Act.counters[$ctrl.campaign._id] | number }} </span> acts of love </small> </h5> <div class="btn-group btn-block" ng-repeat="item in $ctrl.campaign.deeds" ng-if="$ctrl.Group.isAdmin($ctrl.group, $ctrl.User.current)" uib-dropdown> <a ng-href="/d/{{ ::item.deed.urlTitle }}" class="btn col-xs-10" ng-class="{\n               \'btn-primary\': item.published,\n               \'btn-default\': !item.published,\n               \'btn-lg\': item.deed._id === $ctrl.currentDeed.deed._id\n             }"> {{ ::item.deed.title }} </a> <button type=button class="btn col-xs-2" ng-class="{\n                    \'btn-primary\': item.published,\n                    \'btn-default\': !item.published,\n                    \'btn-lg\': item.deed._id === $ctrl.currentDeed.deed._id\n                  }" uib-dropdown-toggle aria-haspopup=true aria-expanded=false> <span class=caret></span> <span class=sr-only>Toggle Dropdown</span> </button> <ul class=dropdown-menu-right uib-dropdown-menu> <li ng-if=!item.published> <a ng-click="$ctrl.setPublished($ctrl.campaign, item.deed, true)" href> <i class="fa fa-fw fa-thumbs-up"></i> Publish </a> </li> <li ng-if=item.published> <a ng-click="$ctrl.setPublished($ctrl.campaign, item.deed, false)" href> <i class="fa fa-fw fa-thumbs-down"></i> Unpublish </a> </li> </ul> </div> <div ng-if="$ctrl.Group.isAdmin($ctrl.group, $ctrl.User.current)"> <hr> <button type=button class="btn btn-default btn-block" ng-click="$ctrl.editCampaign(\'update\', $ctrl.group, $ctrl.campaign)"> <i class="fa fa-fw fa-edit"></i> Update campaign </button> <button type=button class="btn btn-default btn-block" ng-click=$ctrl.finishCampaign($ctrl.campaign)> <i class="fa fa-fw fa-flag-checkered"></i> Finish campaign </button> </div> <a ng-href="/d/{{ ::item.deed.urlTitle }}" class="btn btn-block" ng-repeat="item in $ctrl.campaign.deeds" ng-class="{\n             \'btn-primary\': item.published,\n             \'btn-default\': !item.published,\n             \'btn-lg\': item.deed._id === $ctrl.currentDeed.deed._id\n           }" ng-if="!$ctrl.Group.isAdmin($ctrl.group, $ctrl.User.current)"> {{ ::item.deed.title }} </a> </div> <button type=button class="btn btn-primary btn-block btn-lg" ng-click="$ctrl.User.isAuthenticated() ?\n                    $ctrl.joinGroup($ctrl.User.current, $ctrl.group) :\n                    $ctrl.Modal.openLogin()" ng-if=!$ctrl.User.isMemberOfGroup($ctrl.group)> <i class="fa fa-fw fa-users"></i> <span ng-if=!$ctrl.User.isAuthenticated()>Login &amp; </span> Join us </button> <button type=button class="btn btn-default btn-block" ng-click="$ctrl.editCampaign(\'create\', $ctrl.group)" ng-if=$ctrl.showCampaignAlert> <i class="fa fa-fw fa-bullhorn"></i> Setup campaign </button> <button type=button class="btn btn-default btn-block" ng-click="$ctrl.Modal.openGroupEdit(\'update\', $ctrl.group)" ng-if="$ctrl.Group.isAdmin($ctrl.group, $ctrl.User.current)"> <i class="fa fa-fw fa-edit"></i> Update group </button> <button type=button class="btn btn-default btn-block" ng-click="$ctrl.leaveGroup($ctrl.User.current, $ctrl.group)" ng-if=$ctrl.User.isMemberOfGroup($ctrl.group)> <i class="fa fa-fw fa-sign-out"></i> Leave group </button> </div> <div class="col-sm-8 col-md-9 col-sm-pull-4 col-md-pull-3"> <div uib-alert class=alert-info ng-if=$ctrl.showCampaignAlert close="$ctrl.showCampaignAlert = false"> You haven\'t got an active campaign, would you like to set one up now?&nbsp; <button class="btn btn-info btn-inline m-t-xxs p-xs" ng-click="$ctrl.editCampaign(\'create\', $ctrl.group)"> Setup Campaign </button> </div> <uib-tabset active=$ctrl.activeTab type=pills> <uib-tab> <uib-tab-heading> <i class="fa fa-fw fa-commenting"></i> Welcome </uib-tab-heading> <blockquote marked=$ctrl.group.welcomeMessage ng-if=$ctrl.group.welcomeMessage></blockquote> <div ng-if=!$ctrl.group.welcomeMessage> <h2> The Love is our Weapon Campaign is a youth movement that exists to change cities through the love of Jesus by doing strategic practical acts of love. </h2> <p> Thousands of people, doing thousands of acts of love, bringing change, value, healing and hope throughout cities and communities everywhere. </p> </div> </uib-tab> <uib-tab> <uib-tab-heading> <i class="fa fa-fw fa-list"></i> Activity Feed </uib-tab-heading> <feed criteria="{ group: $ctrl.group._id }" ng-if=$ctrl.User.isAuthenticated()></feed> <p ng-if=!$ctrl.User.isAuthenticated()> You must <a ng-click=$ctrl.Modal.openLogin() href>login</a> to see {{ $ctrl.group.name }}\'s Activity Feed. </p> </uib-tab> </uib-tabset> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(421),s=r(i),u=n(424),l=r(u),c=a.default.module("user",[]).service("User",s.default).component("user",l.default).config(["$stateProvider","$authProvider","config",function(e,t,n){"ngInject";e.state("user",{url:"/u/:userId",component:"user",resolve:{user:["$stateParams","User",function(e,t){return t.findById(e.userId)}]}}),t.loginUrl=n.serverUrl+"/auth/login",t.signupUrl=n.serverUrl+"/auth/signup",t.facebook({clientId:n.facebookClientId,url:n.serverUrl+"/auth/facebook"})}]).name;t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e.data}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(107),f=r(c),d=n(422),p=r(d),m=n(299),v=r(m),g=n(300),h=r(g),b=n(391),y=r(b),$=12,_={},w=null,j=null,x={},k=function(){function e(t,n,r,a,s){o(this,e),i(this,{$auth:t,$http:n,$q:r,Alertify:s}),this.baseUrl=a.serverUrl+"/users",this.authUrl=a.serverUrl+"/auth",this.loadCurrent().catch(function(){return null})}return e.$inject=["$auth","$http","$q","config","Alertify"],s(e,[{key:"authenticateFacebook",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$auth.authenticate("facebook",t).then(function(t){return e.$auth.setToken(t.data.token),e.loadCurrent()})}},{key:"authenticateEmail",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return this.$q.reject({data:{message:"Email and/or password not provided"}});var o={email:e,password:t};return(0,f.default)(r,"_id")&&(o.group=r._id),this.$auth.login(o).then(function(e){return n.$auth.setToken(e.data.token),n.loadCurrent()})}},{key:"logout",value:function(){var e=this;return this.$auth.logout().then(function(){w=null,j=null,e.pub("logout"),e.Alertify.success("Logged out")})}},{key:"loadCurrent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isAuthenticated()?w&&!t?this.$q.resolve(w):this.$http.get(this.baseUrl+"/me").then(function(t){return w=t.data,e.pub("login",w),w.groups.length&&(j=w.groups[0]),w}):this.$q.reject("Not logged in")}},{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$http.get(this.baseUrl,{params:e}).then(a)}},{key:"findById",value:function(e,t){return this.$http.get(this.baseUrl+"/"+e,{params:t}).then(a)}},{key:"save",value:function(e){return(0,f.default)(e,"_id")?this.$http.put(this.baseUrl+"/"+e._id,e).then(a):this.$http.post(this.baseUrl,e).then(a)}},{key:"update",value:function(e,t){var n=this;return this.$http.patch(this.baseUrl+"/"+e._id,t).then(function(){return n.loadCurrent(!0)})}},{key:"isAuthenticated",value:function(){return this.$auth.isAuthenticated()}},{key:"isSuperAdmin",value:function(){return Boolean(w)&&w.superAdmin}},{key:"isLoggedInUser",value:function(e){return Boolean(w)&&w._id===e._id}},{key:"isMemberOfGroup",value:function(e){return(0,f.default)(w,"groups")&&(0,p.default)(w.groups,function(t){return t._id===((0,f.default)(e,"_id")?e._id:e)})}},{key:"hasCommonGroup",value:function(e){return(0,p.default)(e,this.isMemberOfGroup)}},{key:"sendForgotPassword",value:function(e){return this.$http.get(this.authUrl+"/forgot",{params:{email:e}})}},{key:"resetPassword",value:function(e,t){return this.$http.post(this.authUrl+"/reset",{password:e,token:t})}},{key:"sendConfirmEmail",value:function(e){return this.$http.get(this.authUrl+"/confirm",{params:{email:e}}).then(a)}},{key:"confirmEmail",value:function(e){return this.$http.post(this.authUrl+"/confirm",{token:e}).then(a)}},{key:"getDefaultUserImage",value:function(e){return e?((0,f.default)(_,e)||(_[e]=Math.floor((0,y.default)(e)()*$)),"/images/user"+_[e]+".png"):"/images/user0.png"}},{key:"on",value:function(e,t){var n=h.default.v4();return x[n]={key:e,callback:t},function(){return delete x[n]}}},{key:"pub",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,v.default)(x,function(n){n.key===e&&n.callback(t)})}},{key:"current",get:function(){return w}},{key:"group",set:function(e){j=l.default.copy(e)},get:function(){return j}}]),e}();t.default=k},function(e,t,n){function r(e,t,n){var r=s(e)?o:i;return n&&u(e,t,n)&&(t=void 0),r(e,a(t,3))}var o=n(207),a=n(192),i=n(423),s=n(94),u=n(84);e.exports=r},function(e,t,n){function r(e,t){var n;return o(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}var o=n(181);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(425),a=r(o),i=n(426),s=r(i),u={bindings:{user:"<"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=n(391),c=r(l),f=6,d=function(){function e(t,n,r,i,s){o(this,e),a(this,{$rootScope:t,User:n,Act:r,Feed:i,Modal:s})}return e.$inject=["$rootScope","User","Act","Feed","Modal"],i(e,[{key:"$onInit",value:function(){var e=this;this.$rootScope.title=this.user.name,this.Act.count({user:this.user._id}),this.User.isAuthenticated()&&this.Feed.update(!0),this.jumbotronBackground="/images/header"+Math.floor((0,c.default)(this.user._id)()*f)+".jpg",this.loginOff=this.User.on("login",function(){return e.Feed.update({refresh:!0})}),this.logoutOff=this.User.on("logout",function(){return e.Feed.update({clear:!0})})}},{key:"$onChanges",value:function(e){e.user&&(this.user=u.default.copy(this.user))}},{key:"$onDestroy",value:function(){this.loginOff(),this.logoutOff()}}]),e}();t.default=d},function(e,t){e.exports='<jumbotron jumbo-image="::$ctrl.user.picture || $ctrl.User.getDefaultUserImage(item.user._id)" jumbo-background=::$ctrl.jumbotronBackground jumbo-classes=jumbotron-small> <jumbo-title>{{ ::$ctrl.user.name }}</jumbo-title> <jumbo-text> <span class=f-lg> {{ $ctrl.Act.counters[$ctrl.user._id] | number }} </span> acts of love </jumbo-text> </jumbotron> <div class="container container-pad"> <div class=row> <div class=col-xs-12> <h3 class="m-t-none m-b-md"> <i class="fa fa-fw fa-list"></i> Activity Feed </h3> <feed criteria="{ user: $ctrl.user._id }" ng-if=$ctrl.User.isAuthenticated()></feed> <p ng-if=!$ctrl.User.isAuthenticated()> You must <a ng-click=$ctrl.Modal.openLogin() href>login</a> to see {{ ::$ctrl.user.firstName }}\'s Activity Feed. </p> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(428),s=r(i),u=a.default.module("confirmEmail",[]).component("confirmEmail",s.default).config(["$stateProvider",function(e){"ngInject";e.state("confirmEmail",{url:"/confirm/:token",component:"confirmEmail",resolve:{token:["$stateParams",function(e){return e.token}]}})}]).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(429),a=r(o),i=n(430),s=r(i),u={bindings:{token:"<"},controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,o,a,i){n(this,e),r(this,{$rootScope:t,$state:o,Alertify:a,User:i})}return e.$inject=["$rootScope","$state","Alertify","User"],o(e,[{key:"$onInit",value:function(){var e=this;this.$rootScope.title="Confirming Email Address",this.User.confirmEmail(this.token).then(function(){return e.Alertify.success("Confirmed email address")}).catch(function(){return e.Alertify.error("Failed confirming email address")}).then(function(){return e.$state.go("home")})}}]),e}();t.default=a},function(e,t){e.exports='<jumbotron jumbo-background="\'/images/header.jpg\'"></jumbotron> <div class="container container-pad"> <div class=row> <loading-spinner size=2x classes=middle> Confirming your email address </loading-spinner> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(432),s=r(i),u=a.default.module("resetPassword",[]).component("resetPassword",s.default).config(["$stateProvider",function(e){"ngInject";e.state("resetPassword",{url:"/reset/:token",component:"resetPassword",resolve:{token:["$stateParams",function(e){return e.token}]}})}]).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(433),a=r(o),i=n(434),s=r(i),u={bindings:{token:"<"},controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,o,a,i,s){n(this,e),r(this,{$rootScope:t,$state:o,Alertify:a,User:i,Modal:s})}return e.$inject=["$rootScope","$state","Alertify","User","Modal"],o(e,[{key:"$onInit",value:function(){this.$rootScope.title="Reset Password"}},{key:"save",value:function(e,t){var n=this;this.saving=!0,this.User.resetPassword(e,t).then(function(){return n.Alertify.success("Password reset")}).catch(function(){return n.Alertify.error("Password reset link has expired")}).then(function(){return n.$state.go("home")}).then(function(){return n.Modal.openLogin()})}}]),e}();t.default=a},function(e,t){e.exports='<jumbotron jumbo-background="\'/images/header.jpg\'"></jumbotron> <div class="container container-pad"> <div class=row> <div class="col-xs-12 col-sm-8 col-sm-push-2 col-md-6 col-md-push-3"> <h3> <i class="fa fa-fw fa-key"></i> Reset your password </h3> <form name=resetPassword ng-submit="$ctrl.form.$valid && $ctrl.save($ctrl.password, $ctrl.token)" novalidate> <span ng-init="$ctrl.form = resetPassword"></span> <div class=form-group ng-class="{ \'has-error\': $ctrl.form.$submitted && $ctrl.form.password.$invalid }"> <label for=password>Password</label> <input type=password class=form-control id=password name=password placeholder="Enter a new password..." ng-model=$ctrl.password required minlength=8 autofocus> <span class=help-block ng-messages=$ctrl.form.password.$error> <span ng-message=minlength>Password must be at least 8 characters</span> </span> </div> <div class=form-group ng-class="{ \'has-error\': $ctrl.form.$submitted && $ctrl.form.confirmPassword.$invalid }"> <label for=confirmPassword>Confirm Password</label> <input type=password class=form-control id=confirmPassword name=confirmPassword placeholder="Enter the same password again..." ng-model=$ctrl.confirmPassword required same-as=$ctrl.password> <span class=help-block ng-messages=$ctrl.form.confirmPassword.$error> <span ng-message=sameAs>Entered passwords must be the same</span> </span> </div> <button type=submit class="btn btn-primary btn-block" ng-disabled="$ctrl.form.$pristine || $ctrl.saving"> <i class="fa fa-fw fa-cog fa-spin" ng-show=$ctrl.saving></i> Submit </button> </form> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(436),s=r(i),u=n(440),l=r(u),c=n(443),f=r(c),d=n(446),p=r(d),m=n(448),v=r(m),g=n(462),h=r(g),b=n(465),y=r(b),$=n(475),_=r($),w=a.default.module("app.components",[s.default,l.default,f.default,p.default,v.default,h.default,y.default,_.default]).name;t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(437),s=r(i),u=a.default.module("jumbotron",[]).component("jumbotron",s.default).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(438),a=r(o),i=n(439),s=r(i),u={bindings:{image:"<jumboImage",background:"<jumboBackground",classes:"@jumboClasses"},transclude:{content:"?jumboContent",title:"?jumboTitle",text:"?jumboText"},controller:a.default,template:s.default};t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){n(this,e),r(this,{$element:t})}return e.$inject=["$element"],o(e,[{key:"$onInit",value:function(){this.styles={"background-image":this.background?"url("+this.background+")":"none"}}},{key:"$postLink",value:function(){this.$element.find("jumbo-content").length&&(this.hasJumboContent=!0)}}]),e}();t.default=a},function(e,t){e.exports='<div class="jumbotron {{ $ctrl.classes }}" ng-style=$ctrl.styles> <div class=container> <div ng-transclude=content></div> <div ng-if=!$ctrl.hasJumboContent> <div class=jumbotron-image ng-if=$ctrl.image> <img ng-src="{{ $ctrl.image }}" class="img-responsive img-circle"> </div> <h1 class=jumbotron-title ng-transclude=title></h1> <p class=jumbotron-text ng-transclude=text></p> </div> </div> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(441),s=r(i),u=a.default.module("iconChecked",[]).component("iconChecked",s.default).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(442),a=r(o),i={bindings:{value:"<"},template:a.default};t.default=i},function(e,t){e.exports="<i class=\"fa fa-lg\" ng-class=\"{\n     'fa-check-circle text-success': $ctrl.value,\n     'fa-times-circle text-muted': !$ctrl.value,\n   }\"></i> "},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(444),s=r(i),u=a.default.module("loadingSpinner",[]).component("loadingSpinner",s.default).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(445),a=r(o),i={bindings:{size:"@",classes:"@"},transclude:!0,template:a.default};t.default=i},function(e,t){e.exports='<p class=text-center> <i class="fa fa-fw fa-cog fa-{{ $ctrl.size }} fa-spin {{ $ctrl.classes }}"></i> <ng-transclude></ng-transclude> </p> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(447),s=r(i),u=a.default.module("sameAs",[]).directive("sameAs",function(){return new s.default}).name;t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this.restrict="A",this.require="ngModel",this.scope={otherValue:"<sameAs"}}return r(e,[{key:"link",value:function(e,t,n,r){r.$validators.sameAs=function(t){return t===e.otherValue}}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(449),s=r(i),u=a.default.module("mediumEditor",[]).component("mediumEditor",s.default).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(450),a=r(o),i=n(461),s=r(i),u={bindings:{content:"<",onContentChanged:"&",placeholder:"@"},controller:a.default,template:s.default};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(451),u=r(s),l=n(452),c=r(l),f=n(460),d=r(f),p=new d.default.Converter,m=function(){function e(t,n){o(this,e),a(this,{$element:t,$q:n})}return e.$inject=["$element","$q"],i(e,[{key:"$onChanges",value:function(e){if(this.editor&&e.content&&!this.$element[0].querySelectorAll(":focus").length){var t=e.content.currentValue;void 0!==t&&null!==t||(t=""),this.editor.setContent(p.makeHtml(String(t)))}}},{key:"$postLink",value:function(){var e=this;this.editor=new u.default(this.$element.find("textarea"),{placeholder:{text:this.placeholder||"Enter a message...",hideOnClick:!1},toolbar:{buttons:["bold","italic","underline","anchor","orderedlist","unorderedlist"]},buttonLabels:"fontawesome"}),this.content&&this.editor.setContent(p.makeHtml(String(this.content))),this.editor.subscribe("editableInput",function(t,n){e.$q.resolve((0,c.default)(n.innerHTML,{converters:[{filter:function(e){return"SPAN"===e.nodeName||"DIV"===e.nodeName},replacement:function(e){return e}}]})).then(function(t){return e.onContentChanged({$event:{content:t}})})})}},{key:"$onDestroy",value:function(){this.editor.destroy()}}]),e}();t.default=m},,,,,,,,,,,function(e,t){e.exports='<div class="well well-sm medium-editor m-none"> <textarea ng-model=$ctrl.content></textarea> </div> '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(463),s=r(i),u=a.default.module("alertify",[]).service("Alertify",s.default).name;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(464),s=r(i),u=function(){function e(){o(this,e),s.default.theme("bootstrap").logPosition("top right")}return a(e,[{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info-circle";return s.default.setLogTemplate(function(e){return'<i class="fa fa-fw fa-'+t+'"></i> '+e}).log(e)}},{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"check-circle";return s.default.setLogTemplate(function(e){return'<i class="fa fa-fw fa-'+t+'"></i> '+e}).success(e)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exclamation-circle";return s.default.setLogTemplate(function(e){return'<i class="fa fa-fw fa-'+t+'"></i> '+e}).error(e)}}]),e}();t.default=u},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(272),s=r(i),u=n(165),l=r(u),c=n(466),f=r(c),d=a.default.module("lodash",[]).filter("last",function(){return s.default}).filter("capitalize",function(){return l.default}).filter("kebabCase",function(){return f.default}).name;t.default=d},function(e,t,n){var r=n(467),o=r(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=o},function(e,t,n){function r(e){return function(t){return o(i(a(t).replace(u,"")),e,"")}}var o=n(253),a=n(468),i=n(471),s="[']",u=RegExp(s,"g");e.exports=r},function(e,t,n){function r(e){return e=a(e),e&&e.replace(i,o).replace(d,"")}var o=n(469),a=n(139),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\u0300-\\u036f",u="\\ufe20-\\ufe2f",l="\\u20d0-\\u20ff",c=s+u+l,f="["+c+"]",d=RegExp(f,"g");e.exports=r},function(e,t,n){var r=n(470),o={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},a=r(o);e.exports=a},function(e,t){function n(e){return function(t){return null==e?void 0:e[t]}}e.exports=n},function(e,t,n){function r(e,t,n){return e=i(e),t=n?void 0:t,void 0===t?a(e)?s(e):o(e):e.match(t)||[]}var o=n(472),a=n(473),i=n(139),s=n(474);e.exports=r},function(e,t){function n(e){return e.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=n},function(e,t){function n(e){return r.test(e)}var r=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=n},function(e,t){function n(e){return e.match(z)||[]}var r="\\ud800-\\udfff",o="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",s=o+a+i,u="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",c="\\xac\\xb1\\xd7\\xf7",f="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d="\\u2000-\\u206f",p=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",m="A-Z\\xc0-\\xd6\\xd8-\\xde",v="\\ufe0e\\ufe0f",g=c+f+d+p,h="[']",b="["+g+"]",y="["+s+"]",$="\\d+",_="["+u+"]",w="["+l+"]",j="[^"+r+g+$+u+l+m+"]",x="\\ud83c[\\udffb-\\udfff]",k="(?:"+y+"|"+x+")",O="[^"+r+"]",P="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",M="["+m+"]",A="\\u200d",U="(?:"+w+"|"+j+")",S="(?:"+M+"|"+j+")",I="(?:"+h+"(?:d|ll|m|re|s|t|ve))?",D="(?:"+h+"(?:D|LL|M|RE|S|T|VE))?",E=k+"?",G="["+v+"]?",T="(?:"+A+"(?:"+[O,P,C].join("|")+")"+G+E+")*",F="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",q="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",N=G+E+T,L="(?:"+[_,P,C].join("|")+")"+N,z=RegExp([M+"?"+w+"+"+I+"(?="+[b,M,"$"].join("|")+")",S+"+"+D+"(?="+[b,M+U,"$"].join("|")+")",M+"?"+U+"+"+I,M+"+"+D,q,F,$,L].join("|"),"g");e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(476),s=r(i),u=n(587),l=r(u),c=a.default.module("app.filters.moment",[]).filter("moment",s.default).filter("fromNow",l.default).name;t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(477),a=r(o),i=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";if(e)return(0,a.default)(e).format(t)}};t.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(477),a=r(o),i=function(){return function(e){if(e)return(0,a.default)(e).fromNow()}};t.default=i}]);
//# sourceMappingURL=app.418808df2714ca7ca0dd.bundle.js.map